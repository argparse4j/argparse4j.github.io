
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The Argparse4j User Manual &#8212; argparse4j 0.9.0 documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/default2.css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Examples" href="examples.html" />
    <link rel="prev" title="Argparse4j - The Java command-line argument parser library" href="index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="examples.html" title="Examples"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Argparse4j - The Java command-line argument parser library"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">argparse4j 0.9.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">The Argparse4j User Manual</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="the-argparse4j-user-manual">
<h1>The Argparse4j User Manual<a class="headerlink" href="#the-argparse4j-user-manual" title="Permalink to this headline">¶</a></h1>
<p>Argparse4j is a command line argument parser library for Java based on
Python’s <a class="reference external" href="https://docs.python.org/3/library/argparse.html">argparse</a>
module.  Because of the difference of language features, we cannot use
same syntax and usage of original, but we have tried to bring the same
touch and feel as much as possible.  We also use same terminology as
much as possible.</p>
<p>This manual was written based on argparse’s manual and most of the the
sentences are almost identical, just replaced code examples. We use
this approach because argparse manual is well written and since both
are do the same thing, using existing manual makes us create a manual
with good quality in a short time. Thanks to Python community for the
great module and documentation.</p>
<p>We omitted package names from Java classes in this documentation for
readability because they tend to be quite long. Most Java programmers
use IDE (e.g., eclipse) and it has powerful auto-completion
features. And each class in argparse4j has unique name so it is not a
big problem after all. The <code class="docutils literal notranslate"><span class="pre">import</span></code> statements are also omitted from
the code snippet by the same reason.</p>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>The following code is a Java program that takes a list of integers
and produces either the sum or the max:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Prog</span> <span class="p">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">interface</span> <span class="nc">Accumulate</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="nf">accumulate</span><span class="p">(</span><span class="n">Collection</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">ints</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">Sum</span> <span class="kd">implements</span> <span class="n">Accumulate</span> <span class="p">{</span>
        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">int</span> <span class="nf">accumulate</span><span class="p">(</span><span class="n">Collection</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">ints</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">Integer</span> <span class="n">i</span> <span class="p">:</span> <span class="n">ints</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">sum</span> <span class="o">+=</span> <span class="n">i</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="n">sum</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="n">getClass</span><span class="p">().</span><span class="na">getSimpleName</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">Max</span> <span class="kd">implements</span> <span class="n">Accumulate</span> <span class="p">{</span>
        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">int</span> <span class="nf">accumulate</span><span class="p">(</span><span class="n">Collection</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">ints</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="n">Collections</span><span class="p">.</span><span class="na">max</span><span class="p">(</span><span class="n">ints</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="n">getClass</span><span class="p">().</span><span class="na">getSimpleName</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">()</span>
                <span class="p">.</span><span class="na">description</span><span class="p">(</span><span class="s">&quot;Process some integers.&quot;</span><span class="p">);</span>
        <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;integers&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="na">metavar</span><span class="p">(</span><span class="s">&quot;N&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="na">type</span><span class="p">(</span><span class="n">Integer</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
                <span class="p">.</span><span class="na">nargs</span><span class="p">(</span><span class="s">&quot;+&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="na">help</span><span class="p">(</span><span class="s">&quot;an integer for the accumulator&quot;</span><span class="p">);</span>
        <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--sum&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="na">dest</span><span class="p">(</span><span class="s">&quot;accumulate&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="na">action</span><span class="p">(</span><span class="n">Arguments</span><span class="p">.</span><span class="na">storeConst</span><span class="p">())</span>
                <span class="p">.</span><span class="na">setConst</span><span class="p">(</span><span class="k">new</span> <span class="n">Sum</span><span class="p">())</span>
                <span class="p">.</span><span class="na">setDefault</span><span class="p">(</span><span class="k">new</span> <span class="n">Max</span><span class="p">())</span>
                <span class="p">.</span><span class="na">help</span><span class="p">(</span><span class="s">&quot;sum the integers (default: find the max)&quot;</span><span class="p">);</span>
        <span class="k">try</span> <span class="p">{</span>
            <span class="n">Namespace</span> <span class="n">res</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">);</span>
            <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(((</span><span class="n">Accumulate</span><span class="p">)</span> <span class="n">res</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;accumulate&quot;</span><span class="p">))</span>
                    <span class="p">.</span><span class="na">accumulate</span><span class="p">((</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">res</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;integers&quot;</span><span class="p">)));</span>
        <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">ArgumentParserException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">parser</span><span class="p">.</span><span class="na">handleError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>It can be run at the command line and provides useful help messages:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Prog -h
<span class="go">usage: prog [-h] [--sum] N [N ...]</span>

<span class="go">Process some integers.</span>

<span class="go">positional arguments:</span>
<span class="go">  N                      an integer for the accumulator</span>

<span class="go">named arguments:</span>
<span class="go">  -h, --help             show this help message and exit</span>
<span class="go">  --sum                  sum the integers (default: find the max)</span>
</pre></div>
</div>
<p>When run with the appropriate arguments, it prints either the sum or
the max of the command-line integers:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Prog  <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span>
<span class="go">4</span>
<span class="gp">$ </span>java Prog  <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> --sum
<span class="go">10</span>
</pre></div>
</div>
<p>If invalid arguments are passed in, it will throw an exception. The
user program can catch the exception and show error message:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Prog  a b c
<span class="go">usage: prog [-h] [--sum] N [N ...]</span>
<span class="go">prog: error: argument integers: could not construct class java.lang.Integer from a (For input string: &quot;a&quot;)</span>
</pre></div>
</div>
<p>The following sections walk you through this example.</p>
<div class="section" id="creating-a-parser">
<h3>Creating a parser<a class="headerlink" href="#creating-a-parser" title="Permalink to this headline">¶</a></h3>
<p>The first step using the argparse4j is creating
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html"><span class="pre">ArgumentParser</span></a></code> object. To do this, use
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/ArgumentParsers.html#newFor(java.lang.String)"><span class="pre">ArgumentParsers.newFor()</span></a></code> static method of <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/ArgumentParsers.html"><span class="pre">ArgumentParsers</span></a></code>
class. This will return a builder for the parser. (Note: Prior to
0.8.0 an ArgumentParser object was created using
<code class="docutils literal notranslate"><span class="pre">newArgumentParser(...)</span></code> methods of <code class="docutils literal notranslate"><span class="pre">ArgumentParsers</span></code>. See
<a class="reference internal" href="migration.html"><span class="doc">Migration</span></a>.) Use method <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/ArgumentParserBuilder.html#build()"><span class="pre">ArgumentParserBuilder.build()</span></a></code> to create
the parser:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">()</span>
    <span class="p">.</span><span class="na">description</span><span class="p">(</span><span class="s">&quot;Process some integers.&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>The <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html"><span class="pre">ArgumentParser</span></a></code> object will hold all the information
necessary to parse the command line into Java data types.</p>
<p>Since 0.9.0 there is a variant of <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/ArgumentParsers.html#newFor(java.lang.String,net.sourceforge.argparse4j.DefaultSettings)"><span class="pre">ArgumentParsers.newFor()</span></a></code>
that allows you to choose of which version the defaults for
configuration settings must be used. This makes it easy to use all
improvements of a specific version without having to change all
configuration settings individually:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">,</span> <span class="n">DefaultSettings</span><span class="p">.</span><span class="na">VERSION_0_9_0_DEFAULT_SETTINGS</span><span class="p">)</span>
    <span class="p">.</span><span class="na">build</span><span class="p">()</span>
    <span class="p">.</span><span class="na">description</span><span class="p">(</span><span class="s">&quot;Process some integers.&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>The following versions have default settings that differ from the
previous version:</p>
<ul class="simple">
<li><dl class="simple">
<dt>0.9.0</dt><dd><ul>
<li><p>The help text for a mutually-exclusive group will include an
extra paragraph explaining that at most 1 argument of that
group may be given:
<a class="reference internal" href="#argumentparserbuilder-musthelptextincludemutualexclusivity"><span class="std std-ref">mustHelpTextIncludeMutualExclusivity</span></a></p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>When upgrading to a newer version of argparse4j the chosen defaults
will be honored, so the behavior of applications does not change
without the developer explicitly opting in to improvements.</p>
</div>
<div class="section" id="adding-arguments">
<span id="id1"></span><h3>Adding arguments<a class="headerlink" href="#adding-arguments" title="Permalink to this headline">¶</a></h3>
<p>Filling an ArgumentParser with information about program arguments is
done by making calls to the <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#addArgument(java.lang.String...)"><span class="pre">ArgumentParser.addArgument()</span></a></code> method.
Generally, this calls tell the ArgumentParser how to take the strings
on the command line and turn them into objects. This information is
stored and used when <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#parseArgs(java.lang.String[])"><span class="pre">ArgumentParser.parseArgs()</span></a></code> is called. For
example:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;integers&quot;</span><span class="p">)</span>
        <span class="p">.</span><span class="na">metavar</span><span class="p">(</span><span class="s">&quot;N&quot;</span><span class="p">)</span>
        <span class="p">.</span><span class="na">type</span><span class="p">(</span><span class="n">Integer</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
        <span class="p">.</span><span class="na">nargs</span><span class="p">(</span><span class="s">&quot;+&quot;</span><span class="p">)</span>
        <span class="p">.</span><span class="na">help</span><span class="p">(</span><span class="s">&quot;an integer for the accumulator&quot;</span><span class="p">);</span>
<span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--sum&quot;</span><span class="p">)</span>
        <span class="p">.</span><span class="na">dest</span><span class="p">(</span><span class="s">&quot;accumulate&quot;</span><span class="p">)</span>
        <span class="p">.</span><span class="na">action</span><span class="p">(</span><span class="n">Arguments</span><span class="p">.</span><span class="na">storeConst</span><span class="p">())</span>
        <span class="p">.</span><span class="na">setConst</span><span class="p">(</span><span class="k">new</span> <span class="n">Sum</span><span class="p">())</span>
        <span class="p">.</span><span class="na">setDefault</span><span class="p">(</span><span class="k">new</span> <span class="n">Max</span><span class="p">())</span>
        <span class="p">.</span><span class="na">help</span><span class="p">(</span><span class="s">&quot;sum the integers (default: find the max)&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>Later, calling <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#parseArgs(java.lang.String[])"><span class="pre">ArgumentParser.parseArgs()</span></a></code> will return an
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Namespace.html"><span class="pre">Namespace</span></a></code> object with two attributes, <code class="docutils literal notranslate"><span class="pre">integers</span></code> and
<code class="docutils literal notranslate"><span class="pre">accumulate</span></code>. The <code class="docutils literal notranslate"><span class="pre">integers</span></code> attribute will be a
<code class="xref docutils literal notranslate"><span class="pre">List&lt;Integer&gt;</span></code> which has one or more ints, and the
<code class="docutils literal notranslate"><span class="pre">accumulate</span></code> attribute will be either the <code class="xref docutils literal notranslate"><span class="pre">Sum</span></code> object, if
<code class="docutils literal notranslate"><span class="pre">--sum</span></code> was specified at the command line, or the <code class="xref docutils literal notranslate"><span class="pre">Max</span></code>
object if it was not.</p>
</div>
<div class="section" id="passing-arguments">
<h3>Passing arguments<a class="headerlink" href="#passing-arguments" title="Permalink to this headline">¶</a></h3>
<p>ArgumentParser parses arguments through the
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#parseArgs(java.lang.String[])"><span class="pre">ArgumentParser.parseArgs()</span></a></code> method. This will inspect the command
line, convert each argument to the appropriate type and then invoke
the appropriate action. In most cases, this means a simple
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Namespace.html"><span class="pre">Namespace</span></a></code> object will have attributes parsed out of the
command line. The following code:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Namespace</span> <span class="n">res</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="p">{</span> <span class="s">&quot;--sum&quot;</span><span class="p">,</span> <span class="s">&quot;7&quot;</span><span class="p">,</span> <span class="s">&quot;-1&quot;</span><span class="p">,</span> <span class="s">&quot;42&quot;</span> <span class="p">});</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">res</span><span class="p">);</span>
</pre></div>
</div>
<p>will display:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Namespace(integers=[7, -1, 42], accumulate=Sum)</span>
</pre></div>
</div>
<p>In Java, the command line arguments are typically given as <code class="docutils literal notranslate"><span class="pre">String[]</span>
<span class="pre">argv</span></code>.  To parse the command line, pass this object to
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#parseArgs(java.lang.String[])"><span class="pre">ArgumentParser.parseArgs()</span></a></code> method.</p>
</div>
</div>
<div class="section" id="argumentparser-objects">
<h2>ArgumentParser objects<a class="headerlink" href="#argumentparser-objects" title="Permalink to this headline">¶</a></h2>
<p>To create <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html"><span class="pre">ArgumentParser</span></a></code> object, use
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/ArgumentParsers.html#newFor(java.lang.String)"><span class="pre">ArgumentParsers.newFor()</span></a></code> static method of
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/ArgumentParsers.html"><span class="pre">ArgumentParsers</span></a></code> class.  This will return a builder for
the parser.  The following parameter must be specified:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#argumentparsers-newfor-prog"><span class="std std-ref">prog</span></a> - The name of the
program. This is necessary because <code class="docutils literal notranslate"><span class="pre">main()</span></code> method in Java does
not provide program name.</p></li>
</ul>
<p>Configure the parser to be build using methods of the builder:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#argumentparserbuilder-addhelp"><span class="std std-ref">addHelp</span></a> - Add a -h/–help
option to the parser.  (default: <code class="docutils literal notranslate"><span class="pre">true</span></code>).</p></li>
<li><p><a class="reference internal" href="#argumentparserbuilder-prefixchars"><span class="std std-ref">prefixChars</span></a> - The set of
characters that prefix named arguments. (default: ‘-‘)</p></li>
<li><p><a class="reference internal" href="#argumentparserbuilder-fromfileprefix"><span class="std std-ref">fromFilePrefix</span></a> - The
set of characters that prefix file path from which additional
arguments are read. (default: <code class="docutils literal notranslate"><span class="pre">null</span></code>)</p></li>
<li><p><a class="reference internal" href="#argumentparserbuilder-locale"><span class="std std-ref">locale</span></a> - The locale to use for
messages. (default: <code class="docutils literal notranslate"><span class="pre">Locale.getDefault()</span></code>)</p></li>
<li><p><a class="reference internal" href="#argumentparserbuilder-cjkwidthhack"><span class="std std-ref">cjkWidthHack</span></a> - Treat Unicode
characters having East Asian Width property Wide/Full/Ambiguous to
have twice a width of ascii characters when formatting help message
if locale is “ja”, “zh” or “ko”. (default: <code class="docutils literal notranslate"><span class="pre">true</span></code>)</p></li>
<li><p><a class="reference internal" href="#argumentparserbuilder-defaultformatwidth"><span class="std std-ref">defaultFormatWidth</span></a> - The default
width (in columns) for formatting messages. This value is used if
terminal width detection is disabled or fails. (default: <code class="docutils literal notranslate"><span class="pre">75</span></code>)</p></li>
<li><p><a class="reference internal" href="#argumentparserbuilder-terminalwidthdetection"><span class="std std-ref">terminalWidthDetection</span></a> - Detect the
width of the terminal the application is running in. If the
terminal width cannot be detected, the default format width is
used. (default: <code class="docutils literal notranslate"><span class="pre">true</span></code>)</p></li>
<li><p><a class="reference internal" href="#argumentparserbuilder-singlemetavar"><span class="std std-ref">singleMetavar</span></a> - Show the metavar
string in help message only after the last flag instead of each
flag. (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>)</p></li>
<li><p><a class="reference internal" href="#argumentparserbuilder-includeargumentnamesaskeysinresult"><span class="std std-ref">includeArgumentNamesAsKeysInResult</span></a> -
Also add the argument name as a key in the result (if a value for
the argument will be added for <code class="docutils literal notranslate"><span class="pre">dest</span></code>). The argument name is the
name of positional arguments, and the first long flag, or otherwise
first flag, without the prefix for named arguments.</p></li>
<li><p><a class="reference internal" href="#argumentparserbuilder-musthelptextincludemutualexclusivity"><span class="std std-ref">mustHelpTextIncludeMutualExclusivity</span></a> -
Add a text after the description and before the arguments of a
mutually-exclusive group explaining that at most 1 of the arguments
may be given.</p></li>
<li><p><a class="reference internal" href="#argumentparserbuilder-nodestconversionforpositionalargs"><span class="std std-ref">noDestConversionForPositionalArgs</span></a> -
Do not perform any conversion to produce “dest” value from
positional argument name. (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>)</p></li>
</ul>
<p>The parser is created using method
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/ArgumentParserBuilder.html#build()"><span class="pre">ArgumentParserBuilder.build()</span></a></code>.</p>
<p>After creation of the instance, several additional parameters can be
specified using following methods:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#argumentparser-description"><span class="std std-ref">ArgumentParser.description()</span></a> - Text
to display before the argument help.</p></li>
<li><p><a class="reference internal" href="#argumentparser-epilog"><span class="std std-ref">ArgumentParser.epilog()</span></a> - Text to display after the argument
help.</p></li>
<li><p><a class="reference internal" href="#argumentparser-defaulthelp"><span class="std std-ref">ArgumentParser.defaultHelp()</span></a> - Display default value to help
message. (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>)</p></li>
<li><p><a class="reference internal" href="#argumentparser-usage"><span class="std std-ref">ArgumentParser.usage()</span></a> - The string describing the program
usage (default: generated)</p></li>
<li><p><a class="reference internal" href="#argumentparser-version"><span class="std std-ref">ArgumentParser.version()</span></a> - The string describing the program
version.</p></li>
</ul>
<p>The following sections describes how each of these are used.</p>
<div class="section" id="prog">
<span id="argumentparsers-newfor-prog"></span><h3>prog<a class="headerlink" href="#prog" title="Permalink to this headline">¶</a></h3>
<p>In Java, the name of the program is not included in the argument in
<code class="xref py py-func docutils literal notranslate"><span class="pre">main()</span></code> method. Because of this, the name of the program must be
supplied to <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/ArgumentParsers.html#newFor(java.lang.String)"><span class="pre">ArgumentParsers.newFor()</span></a></code>.</p>
</div>
<div class="section" id="addhelp">
<span id="argumentparserbuilder-addhelp"></span><h3>addHelp<a class="headerlink" href="#addhelp" title="Permalink to this headline">¶</a></h3>
<p>By default, <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html"><span class="pre">ArgumentParser</span></a></code> objects add an option which
simply displays the parser’s help message. For example, consider
following code:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--foo&quot;</span><span class="p">).</span><span class="na">help</span><span class="p">(</span><span class="s">&quot;foo help&quot;</span><span class="p">);</span>
    <span class="n">Namespace</span> <span class="n">res</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">-h</span></code> or <code class="docutils literal notranslate"><span class="pre">--help</span></code> is supplied at the command line, the
ArgumentParser will display help message:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo --help
<span class="go">usage: prog [-h] [--foo FOO]</span>

<span class="go">named arguments:</span>
<span class="go">  -h, --help             show this help message and exit</span>
<span class="go">  --foo FOO              foo help</span>
</pre></div>
</div>
<p>Occasionally, it may be useful to disable the addition of this help
option.  This can be achieved by passing <code class="docutils literal notranslate"><span class="pre">false</span></code> as the
<a class="reference internal" href="#addhelp">addHelp</a> argument to <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/ArgumentParserBuilder.html#addHelp(boolean)"><span class="pre">ArgumentParserBuilder.addHelp()</span></a></code>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span>
        <span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">addHelp</span><span class="p">(</span><span class="kc">false</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--foo&quot;</span><span class="p">).</span><span class="na">help</span><span class="p">(</span><span class="s">&quot;foo help&quot;</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">printHelp</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo
<span class="go">usage: prog [--foo FOO]</span>

<span class="go">named arguments:</span>
<span class="go">  --foo FOO              foo help</span>
</pre></div>
</div>
<p>The help option is typically <code class="docutils literal notranslate"><span class="pre">-h/--help</span></code>. The exception to this is
if the <a class="reference internal" href="#argumentparserbuilder-prefixchars"><span class="std std-ref">prefixChars</span></a> is
specified and does not include <code class="docutils literal notranslate"><span class="pre">-</span></code>, in which case <code class="docutils literal notranslate"><span class="pre">-h</span></code> and
<code class="docutils literal notranslate"><span class="pre">--help</span></code> are not valid options. In this case, the first character in
<a class="reference internal" href="#argumentparserbuilder-prefixchars"><span class="std std-ref">prefixChars</span></a> is used to prefix
the help options:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span>
        <span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">addHelp</span><span class="p">(</span><span class="kc">true</span><span class="p">).</span><span class="na">prefixChars</span><span class="p">(</span><span class="s">&quot;+/&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">printHelp</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo
<span class="go">usage: prog [+h]</span>

<span class="go">named arguments:</span>
<span class="go">  +h, ++help             show this help message and exit</span>
</pre></div>
</div>
</div>
<div class="section" id="prefixchars">
<span id="argumentparserbuilder-prefixchars"></span><h3>prefixChars<a class="headerlink" href="#prefixchars" title="Permalink to this headline">¶</a></h3>
<p>Most command line options will use <code class="docutils literal notranslate"><span class="pre">-</span></code> as the prefix, e.g.
<code class="docutils literal notranslate"><span class="pre">-f/--foo</span></code>. Parsers that need to support different or additional
prefix characters, e.g. for options like <code class="docutils literal notranslate"><span class="pre">+f</span></code> or <code class="docutils literal notranslate"><span class="pre">/foo</span></code>, may
specify them using the <em>prefixChars</em> to
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/ArgumentParserBuilder.html#prefixChars(java.lang.String)"><span class="pre">ArgumentParserBuilder.prefixChars()</span></a></code>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">prefixChars</span><span class="p">(</span><span class="s">&quot;-+&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;+f&quot;</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;++bar&quot;</span><span class="p">);</span>
    <span class="n">Namespace</span> <span class="n">res</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">);</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">res</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo +f X ++bar Y
<span class="go">Namespace(f=X, bar=Y)</span>
</pre></div>
</div>
<p>The <em>prefixChars</em> argument defaults to <code class="docutils literal notranslate"><span class="pre">-</span></code> (you can use
<code class="xref docutils literal notranslate"><span class="pre">ArgumentParsers.DEFAULT_PREFIX_CHARS</span></code> for this). Supplying
a set of characters that does not include <code class="docutils literal notranslate"><span class="pre">-</span></code> will cause
<code class="docutils literal notranslate"><span class="pre">-f/--foo</span></code> options to be disallowed.</p>
</div>
<div class="section" id="fromfileprefix">
<span id="argumentparserbuilder-fromfileprefix"></span><h3>fromFilePrefix<a class="headerlink" href="#fromfileprefix" title="Permalink to this headline">¶</a></h3>
<p>It is sometimes useful to read arguments from file other than typing
them in command line, for example, when lots of arguments are needed.
If <em>fromFilePrefix</em> is given as non <code class="docutils literal notranslate"><span class="pre">null</span></code> string, arguments starts
with one of these characters are treated as file path and
ArgumentParser reads additional arguments from the file.  For example:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cat args.txt
<span class="go">-f</span>
<span class="go">bar</span>
</pre></div>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="na">fromFilePrefix</span><span class="p">(</span><span class="s">&quot;@&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;-f&quot;</span><span class="p">);</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">ArgumentParserException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">parser</span><span class="p">.</span><span class="na">handleError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
        <span class="n">System</span><span class="p">.</span><span class="na">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo -f foo @args.txt
<span class="go">Namespace(f=bar)</span>
</pre></div>
</div>
<p>The each line of the file is treated as one argument. Please be aware
that trailing empty lines or line with only white spaces are also
considered as arguments, although it is not readily noticeable to the
user. The empty line is treated as empty string.</p>
<p>By default, <em>fromFilePrefix</em> is <code class="docutils literal notranslate"><span class="pre">null</span></code>, which means no argument is
treated as file path.</p>
</div>
<div class="section" id="locale">
<span id="argumentparserbuilder-locale"></span><h3>locale<a class="headerlink" href="#locale" title="Permalink to this headline">¶</a></h3>
<p>The locale for messages of <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html"><span class="pre">ArgumentParser</span></a></code> objects can
be changed by using <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/ArgumentParserBuilder.html#locale(java.util.Locale)"><span class="pre">ArgumentParserBuilder.locale()</span></a></code>. For example:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="na">locale</span><span class="p">(</span><span class="k">new</span> <span class="n">Locale</span><span class="p">(</span><span class="s">&quot;nl&quot;</span><span class="p">)).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">printHelp</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo
<span class="go">gebruik: prog [-h]</span>

<span class="go">optionele argumenten:</span>
<span class="go">  -h, --help             toon dit hulpbericht en sluit af</span>
</pre></div>
</div>
<p>Currently messages have been (partially) translated to Dutch,
English, German and Russian.</p>
<p>The default locale is the default locale of the JVM
(<code class="docutils literal notranslate"><span class="pre">Locale.getDefault()</span></code>). Upto 0.9.0 the fallback locale for the
argparse4j resource bundle was overridden to be “en_US”. Because of
the switch to named modules to support Java 9+, the override has been
removed.</p>
</div>
<div class="section" id="cjkwidthhack">
<span id="argumentparserbuilder-cjkwidthhack"></span><h3>cjkWidthHack<a class="headerlink" href="#cjkwidthhack" title="Permalink to this headline">¶</a></h3>
<p>A number of characters in Chinese, Japanese and Korean (CJK) are
wider than others. If those characters are treated to have the same
width as other characters, texts may extend past the right margin
when printed. By enabling the CJK width, 2 columns are used for these
wide characters during the determination of line breaks, resulting in
better formatted text. To enable or disable handling of wide CJK
characters use <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/ArgumentParserBuilder.html#cjkwidthHack(boolean)"><span class="pre">ArgumentParserBuilder.cjkwidthHack()</span></a></code>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="na">cjkWidthHack</span><span class="p">(</span><span class="kc">false</span><span class="p">).</span><span class="na">build</span><span class="p">()</span>
    <span class="p">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p><em>cjkWidthHack</em> is <code class="docutils literal notranslate"><span class="pre">true</span></code> by default.</p>
</div>
<div class="section" id="defaultformatwidth">
<span id="argumentparserbuilder-defaultformatwidth"></span><h3>defaultFormatWidth<a class="headerlink" href="#defaultformatwidth" title="Permalink to this headline">¶</a></h3>
<p>Messages generated by <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html"><span class="pre">ArgumentParser</span></a></code> objects are
formatted to fit within a number of columns.
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/ArgumentParserBuilder.html#defaultFormatWidth(int)"><span class="pre">ArgumentParserBuilder.defaultFormatWidth()</span></a></code> can be used to set the
number of columns to use when
<a class="reference internal" href="#argumentparserbuilder-terminalwidthdetection"><span class="std std-ref">terminalWidthDetection</span></a> is disabled or
when the detection cannot determine the number of columns from the
environment:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">arguments</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="na">defaultFormatWidth</span><span class="p">(</span><span class="mi">40</span><span class="p">).</span><span class="na">build</span><span class="p">()</span>
            <span class="p">.</span><span class="na">description</span><span class="p">(</span>
                    <span class="s">&quot;A program showing how argparse4j formats long messages.&quot;</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">printHelp</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo
<span class="go">usage: prog [-h]</span>

<span class="go">A   program   showing   how   argparse4j</span>
<span class="go">formats long messages.</span>

<span class="go">...</span>
</pre></div>
</div>
<p>The default value for <em>defaultFormatWidth</em> is <code class="docutils literal notranslate"><span class="pre">75</span></code>.</p>
</div>
<div class="section" id="terminalwidthdetection">
<span id="argumentparserbuilder-terminalwidthdetection"></span><h3>terminalWidthDetection<a class="headerlink" href="#terminalwidthdetection" title="Permalink to this headline">¶</a></h3>
<p>Argparse4j tries to format messages so they fit the terminal the
application is running in. It does this by looking at environment
variable <code class="docutils literal notranslate"><span class="pre">COLUMNS</span></code>, or running <code class="docutils literal notranslate"><span class="pre">stty</span></code> on platforms that support
it. The detection can be enabled or disabled using
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/ArgumentParserBuilder.html#terminalWidthDetection(boolean)"><span class="pre">ArgumentParserBuilder.terminalWidthDetection()</span></a></code>. When disabling the
detection <a class="reference internal" href="#argumentparserbuilder-defaultformatwidth"><span class="std std-ref">defaultFormatWidth</span></a> is used as
the number of columns:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="na">terminalWidthDetection</span><span class="p">(</span><span class="kc">false</span><span class="p">).</span><span class="na">build</span><span class="p">()</span>
            <span class="p">.</span><span class="na">description</span><span class="p">(</span>
                    <span class="s">&quot;A program showing how argparse4j formats long messages. &quot;</span> <span class="o">+</span>
                            <span class="s">&quot;Terminal width detection has been disabled, &quot;</span> <span class="o">+</span>
                            <span class="s">&quot;so this description is formatted to 75 characters wide.&quot;</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">printHelp</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo
<span class="go">usage: prog [-h]</span>

<span class="go">A program showing  how  argparse4j  formats  long  messages. Terminal width</span>
<span class="go">detection has  been  disabled,  so  this  description  is  formatted  to 75</span>
<span class="go">characters wide.</span>

<span class="go">...</span>
</pre></div>
</div>
<p>By default <em>terminalWidthDection</em> is <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
</div>
<div class="section" id="singlemetavar">
<span id="argumentparserbuilder-singlemetavar"></span><h3>singleMetavar<a class="headerlink" href="#singlemetavar" title="Permalink to this headline">¶</a></h3>
<p>The metavariable of an argument can be printed after each argument
name or only once after all argument names. This behavior is
controlled using <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/ArgumentParserBuilder.html#singleMetavar(boolean)"><span class="pre">ArgumentParserBuilder.singleMetavar()</span></a></code>. Here is an
example using a single metavariable:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;single&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="na">singleMetavar</span><span class="p">(</span><span class="kc">true</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;-f&quot;</span><span class="p">,</span> <span class="s">&quot;-file&quot;</span><span class="p">).</span><span class="na">nargs</span><span class="p">(</span><span class="s">&quot;+&quot;</span><span class="p">).</span><span class="na">metavar</span><span class="p">(</span><span class="s">&quot;FILE&quot;</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">printHelp</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo
<span class="go">usage: single [-h] [-f FILE [FILE ...]]</span>

<span class="go">named arguments:</span>
<span class="go">  -h, --help             show this help message and exit</span>
<span class="go">  -f, -file FILE [FILE ...]</span>
</pre></div>
</div>
<p>Compare this with the output if using multiple metavariables:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;multiple&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="na">singleMetavar</span><span class="p">(</span><span class="kc">false</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;-f&quot;</span><span class="p">,</span> <span class="s">&quot;-file&quot;</span><span class="p">).</span><span class="na">nargs</span><span class="p">(</span><span class="s">&quot;+&quot;</span><span class="p">).</span><span class="na">metavar</span><span class="p">(</span><span class="s">&quot;FILE&quot;</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">printHelp</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo
<span class="go">usage: multiple [-h] [-f FILE [FILE ...]]</span>

<span class="go">named arguments:</span>
<span class="go">  -h, --help             show this help message and exit</span>
<span class="go">  -f FILE [FILE ...], -file FILE [FILE ...]</span>
</pre></div>
</div>
<p><em>singleMetavar</em> defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>, so the metavariable is printed
after each argument name.</p>
</div>
<div class="section" id="includeargumentnamesaskeysinresult">
<span id="argumentparserbuilder-includeargumentnamesaskeysinresult"></span><h3>includeArgumentNamesAsKeysInResult<a class="headerlink" href="#includeargumentnamesaskeysinresult" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">dest</span></code> value of an argument is used as a key in the parse
result. It is different from (but based on) the name or a flag of the
argument. This requires clients to maintain 2 constants for working
with arguments, if the argument contains dashes: 1 for the argument
and 1 for <code class="docutils literal notranslate"><span class="pre">dest</span></code>. With this flag you tell argparse4j to also
include the name (see below) of the argument in the result.</p>
<p>The name of an argument is determined as follows:</p>
<ul class="simple">
<li><p>Positional arguments: the name of the argument</p></li>
<li><p>Named arguments: the first long flag, or if there is no long flag,
the first flag. The prefix will be removed</p></li>
</ul>
<p>Example for positional argument:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">arguments</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="na">includeArgumentNamesAsKeysInResult</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
            <span class="p">.</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;foo-bar&quot;</span><span class="p">);</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">arguments</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo value
<span class="go">Namespace(foo_bar=value, foo-bar=value)</span>
</pre></div>
</div>
<p>Example for named argument:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">arguments</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="na">includeArgumentNamesAsKeysInResult</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
            <span class="p">.</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;-foo-bar&quot;</span><span class="p">);</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">arguments</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo -foo-bar value
<span class="go">Namespace(foo_bar=value, foo-bar=value)</span>
</pre></div>
</div>
<p>Example for named argument with long argument:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">arguments</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="na">includeArgumentNamesAsKeysInResult</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
            <span class="p">.</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;-f-b&quot;</span><span class="p">,</span> <span class="s">&quot;--foo-bar&quot;</span><span class="p">);</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">arguments</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo -f-b value
<span class="go">Namespace(foo_bar=value, foo-bar=value)</span>
<span class="gp">$ </span>java Demo --foo-bar value
<span class="go">Namespace(foo_bar=value, foo-bar=value)</span>
</pre></div>
</div>
<p>By default <em>includeArgumentNamesAsKeysInResult</em> is <code class="docutils literal notranslate"><span class="pre">false</span></code>, so only
<code class="docutils literal notranslate"><span class="pre">dest</span></code> of arguments is used for keys in the result.</p>
</div>
<div class="section" id="musthelptextincludemutualexclusivity">
<span id="argumentparserbuilder-musthelptextincludemutualexclusivity"></span><h3>mustHelpTextIncludeMutualExclusivity<a class="headerlink" href="#musthelptextincludemutualexclusivity" title="Permalink to this headline">¶</a></h3>
<p>The mutual exclusivity of a group is normally only shown in the usage
of a parser. By setting this option to <code class="docutils literal notranslate"><span class="pre">true</span></code>, or specifying
<code class="docutils literal notranslate"><span class="pre">DefaultSettings.VERSION_0_9_0_DEFAULT_SETTINGS</span></code> (or higher) when
creating a parser builder, a paragraph after the description and
before the arguments of a mutually-exclusive group will be added to
the help. This paragraph explains that at most 1 of the arguments of
the group may be given. Example output:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">MutexGroup:</span>
<span class="go">  A mutually-exclusive group.</span>

<span class="go">  At most 1 of the arguments below may be given.</span>

<span class="go">  -f First argument</span>
<span class="go">  -s Second argument</span>
</pre></div>
</div>
<p>By default <em>mustHelpTextIncludeMutualExclusivity</em> is <code class="docutils literal notranslate"><span class="pre">false</span></code>,
resulting in mutual exclusivity of a group being shown only in the
usage.</p>
</div>
<div class="section" id="nodestconversionforpositionalargs">
<span id="argumentparserbuilder-nodestconversionforpositionalargs"></span><h3>noDestConversionForPositionalArgs<a class="headerlink" href="#nodestconversionforpositionalargs" title="Permalink to this headline">¶</a></h3>
<p>Prior to 0.5.0 the destination for positional arguments was not
automatically determined from the argument name. See
<a class="reference internal" href="migration.html"><span class="doc">Migration</span></a>.
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/ArgumentParserBuilder.html#noDestConversionForPositionalArgs(boolean)"><span class="pre">ArgumentParserBuilder.noDestConversionForPositionalArgs()</span></a></code> can be used
to revert back to the pre 0.5.0 behavior. Note that you must
explicitly set a destination when you enable this option, because
otherwise the destination will be <code class="docutils literal notranslate"><span class="pre">null</span></code>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">arguments</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="na">noDestConversionForPositionalArgs</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
            <span class="p">.</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;foo-bar&quot;</span><span class="p">).</span><span class="na">dest</span><span class="p">(</span><span class="s">&quot;explicit-dest&quot;</span><span class="p">);</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">arguments</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo value
<span class="go">Namespace(explicit-dest=value)</span>
</pre></div>
</div>
<p>By default <em>noDestConversionForPositionalArgs</em> is <code class="docutils literal notranslate"><span class="pre">false</span></code>, so the
names of positional arguments are automatically converted to destinations.</p>
</div>
<div class="section" id="argumentparser-description">
<span id="id2"></span><h3>ArgumentParser.description()<a class="headerlink" href="#argumentparser-description" title="Permalink to this headline">¶</a></h3>
<p>The <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#description(java.lang.String)"><span class="pre">ArgumentParser.description()</span></a></code> gives a brief description of what the
program does and how it works. In help message, the description is
displayed between command line usage string and the help messages for
the various arguments:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">()</span>
        <span class="p">.</span><span class="na">description</span><span class="p">(</span><span class="s">&quot;A foo that bars&quot;</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">printHelp</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo
<span class="go">usage: prog [-h]</span>

<span class="go">A foo that bars</span>

<span class="go">named arguments:</span>
<span class="go">  -h, --help             show this help message and exit</span>
</pre></div>
</div>
<p>By default, the description will be line-wrapped so that it fits
within the given space.</p>
</div>
<div class="section" id="argumentparser-epilog">
<span id="id3"></span><h3>ArgumentParser.epilog()<a class="headerlink" href="#argumentparser-epilog" title="Permalink to this headline">¶</a></h3>
<p>Some programs like to display additional description of the program
after the description of the arguments. Such text can be specified
using <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#epilog(java.lang.String)"><span class="pre">ArgumentParser.epilog()</span></a></code> method:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">()</span>
            <span class="p">.</span><span class="na">description</span><span class="p">(</span><span class="s">&quot;A foo that bars&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="na">epilog</span><span class="p">(</span><span class="s">&quot;And that&#39;s how you&#39;d foo a bar&quot;</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">printHelp</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo
<span class="go">usage: prog [-h]</span>

<span class="go">A foo that bars</span>

<span class="go">named arguments:</span>
<span class="go">  -h, --help             show this help message and exit</span>

<span class="go">And that&#39;s how you&#39;d foo a bar</span>
</pre></div>
</div>
<p>As with the <a class="reference internal" href="#argumentparser-description"><span class="std std-ref">ArgumentParser.description()</span></a> method, text specified
in <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#epilog(java.lang.String)"><span class="pre">ArgumentParser.epilog()</span></a></code> is by default line-wrapped.</p>
</div>
<div class="section" id="argumentparser-defaulthelp">
<span id="id4"></span><h3>ArgumentParser.defaultHelp()<a class="headerlink" href="#argumentparser-defaulthelp" title="Permalink to this headline">¶</a></h3>
<p>The default value of each argument is not by default displayed in help
message. Specifying <code class="docutils literal notranslate"><span class="pre">true</span></code> to <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#defaultHelp(boolean)"><span class="pre">ArgumentParser.defaultHelp()</span></a></code> method
will display the default value of each argument in help message:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">()</span>
        <span class="p">.</span><span class="na">defaultHelp</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--foo&quot;</span><span class="p">)</span>
        <span class="p">.</span><span class="na">type</span><span class="p">(</span><span class="n">Integer</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
        <span class="p">.</span><span class="na">setDefault</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
        <span class="p">.</span><span class="na">help</span><span class="p">(</span><span class="s">&quot;FOO!&quot;</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;bar&quot;</span><span class="p">)</span>
        <span class="p">.</span><span class="na">nargs</span><span class="p">(</span><span class="s">&quot;*&quot;</span><span class="p">)</span>
        <span class="p">.</span><span class="na">setDefault</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="p">.</span><span class="na">help</span><span class="p">(</span><span class="s">&quot;BAR!&quot;</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">printHelp</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo
<span class="go">usage: prog [-h] [-f FOO] [bar [bar ...]]</span>

<span class="go">positional arguments:</span>
<span class="go">  bar                    BAR! (default: [1, 2, 3])</span>

<span class="go">named arguments:</span>
<span class="go">  -h, --help             show this help message and exit</span>
<span class="go">  -f FOO, --foo FOO      FOO! (default: 42)</span>
</pre></div>
</div>
</div>
<div class="section" id="argumentparser-usage">
<span id="id5"></span><h3>ArgumentParser.usage()<a class="headerlink" href="#argumentparser-usage" title="Permalink to this headline">¶</a></h3>
<p>By default, <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html"><span class="pre">ArgumentParser</span></a></code> calculates the usage message
from the arguments it contains:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--foo&quot;</span><span class="p">).</span><span class="na">nargs</span><span class="p">(</span><span class="s">&quot;?&quot;</span><span class="p">).</span><span class="na">help</span><span class="p">(</span><span class="s">&quot;foo help&quot;</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;bar&quot;</span><span class="p">).</span><span class="na">nargs</span><span class="p">(</span><span class="s">&quot;+&quot;</span><span class="p">).</span><span class="na">help</span><span class="p">(</span><span class="s">&quot;bar help&quot;</span><span class="p">);</span>
    <span class="n">Namespace</span> <span class="n">res</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="na">parseArgsOrFail</span><span class="p">(</span><span class="n">args</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo -h
<span class="go">usage: prog [-h] [--foo [FOO]] bar [bar ...]</span>

<span class="go">positional arguments:</span>
<span class="go">  bar                    bar help</span>

<span class="go">named arguments:</span>
<span class="go">  -h, --help             show this help message and exit</span>
<span class="go">  --foo [FOO]            foo help</span>
</pre></div>
</div>
<p>The default message can be overridden with the <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#usage(java.lang.String)"><span class="pre">ArgumentParser.usage()</span></a></code>
method:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">()</span>
            <span class="p">.</span><span class="na">usage</span><span class="p">(</span><span class="s">&quot;${prog} [OPTIONS]&quot;</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--foo&quot;</span><span class="p">).</span><span class="na">nargs</span><span class="p">(</span><span class="s">&quot;?&quot;</span><span class="p">).</span><span class="na">help</span><span class="p">(</span><span class="s">&quot;foo help&quot;</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;bar&quot;</span><span class="p">).</span><span class="na">nargs</span><span class="p">(</span><span class="s">&quot;+&quot;</span><span class="p">).</span><span class="na">help</span><span class="p">(</span><span class="s">&quot;bar help&quot;</span><span class="p">);</span>
    <span class="n">Namespace</span> <span class="n">res</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="na">parseArgsOrFail</span><span class="p">(</span><span class="n">args</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo -h
<span class="go">usage: prog [OPTIONS]</span>

<span class="go">positional arguments:</span>
<span class="go">  bar                    bar help</span>

<span class="go">named arguments:</span>
<span class="go">  -h, --help             show this help message and exit</span>
<span class="go">  --foo [FOO]            foo help</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">${prog}</span></code> literal string in the given usage message will be
replaced with the program name
<a class="reference internal" href="#argumentparsers-newfor-prog"><span class="std std-ref">prog</span></a>.</p>
</div>
<div class="section" id="argumentparser-version">
<span id="id6"></span><h3>ArgumentParser.version()<a class="headerlink" href="#argumentparser-version" title="Permalink to this headline">¶</a></h3>
<p>The <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#version(java.lang.String)"><span class="pre">ArgumentParser.version()</span></a></code> method sets the string
describing program version. It will be displayed when
<a class="reference internal" href="#arguments-version"><span class="std std-ref">Arguments.version()</span></a> action is used.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">${prog}</span></code> literal string in the given string will be replaced
with the program name <a class="reference internal" href="#argumentparsers-newfor-prog"><span class="std std-ref">prog</span></a>.</p>
</div>
</div>
<div class="section" id="the-argumentparser-addargument-method">
<span id="argumentparser-addargument"></span><h2>The ArgumentParser.addArgument() method<a class="headerlink" href="#the-argumentparser-addargument-method" title="Permalink to this headline">¶</a></h2>
<p><code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#addArgument(java.lang.String...)"><span class="pre">ArgumentParser.addArgument()</span></a></code> method creates new <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Argument.html"><span class="pre">Argument</span></a></code>
object and adds it to ArgumentParser’s internal memory and returns the
object to the user code. <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Argument.html"><span class="pre">Argument</span></a></code> object defines how a
single command line argument should be parsed.
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#addArgument(java.lang.String...)"><span class="pre">ArgumentParser.addArgument()</span></a></code> method receives
<a class="reference internal" href="#argumentparser-addargument-nameorflags"><span class="std std-ref">nameOrFlags</span></a> argument, which is
either a name or a list of option strings, e.g. <code class="docutils literal notranslate"><span class="pre">&quot;foo&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;-f&quot;,</span>
<span class="pre">&quot;--foo&quot;</span></code>.  After obtained <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Argument.html"><span class="pre">Argument</span></a></code> object, several
parameters can be specified using following methods:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#argument-action"><span class="std std-ref">Argument.action()</span></a> - The basic type of action to be taken when
this argument is encountered at the command line.</p></li>
<li><p><a class="reference internal" href="#argument-nargs"><span class="std std-ref">Argument.nargs()</span></a> - The number of command line arguments that
should be consumed.</p></li>
<li><p><a class="reference internal" href="#argument-setconst"><span class="std std-ref">Argument.setConst()</span></a> - A constant value required by some
<a class="reference internal" href="#argument-action"><span class="std std-ref">Argument.action()</span></a> and <a class="reference internal" href="#argument-nargs"><span class="std std-ref">Argument.nargs()</span></a> selections.</p></li>
<li><p><a class="reference internal" href="#argument-setdefault"><span class="std std-ref">Argument.setDefault()</span></a> - The value produced if the argument is
absent from the command line.</p></li>
<li><p><a class="reference internal" href="#argument-type"><span class="std std-ref">Argument.type()</span></a> - The type to which the command line argument
should be converted.</p></li>
<li><p><a class="reference internal" href="#argument-choices"><span class="std std-ref">Argument.choices()</span></a> - A collection of the allowable values for
the argument.</p></li>
<li><p><a class="reference internal" href="#argument-required"><span class="std std-ref">Argument.required()</span></a> - Whether or not the command line option
may be omitted (named arguments only).</p></li>
<li><p><a class="reference internal" href="#argument-help"><span class="std std-ref">Argument.help()</span></a> - A brief description of what the argument
does.</p></li>
<li><p><a class="reference internal" href="#argument-metavar"><span class="std std-ref">Argument.metavar()</span></a> - A name for the argument in usage messages.</p></li>
<li><p><a class="reference internal" href="#argument-dest"><span class="std std-ref">Argument.dest()</span></a> - The name of the attribute to be added as a
result of <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#parseArgs(java.lang.String[])"><span class="pre">ArgumentParser.parseArgs()</span></a></code> method.</p></li>
</ul>
<p>The following sections describe how each of these are used.</p>
<div class="section" id="nameorflags">
<span id="argumentparser-addargument-nameorflags"></span><h3>nameOrFlags<a class="headerlink" href="#nameorflags" title="Permalink to this headline">¶</a></h3>
<p>The <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#addArgument(java.lang.String...)"><span class="pre">ArgumentParser.addArgument()</span></a></code> method must know whether a
named argument, like <code class="docutils literal notranslate"><span class="pre">-f</span></code> or <code class="docutils literal notranslate"><span class="pre">--foo</span></code>, or a positional argument,
like a list of filenames, is expected.  The arguments passed to
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#addArgument(java.lang.String...)"><span class="pre">ArgumentParser.addArgument()</span></a></code> must therefore be either a series of
flags, or a simple argument name.  For example, a named argument
could be created like:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;-f&quot;</span><span class="p">,</span> <span class="s">&quot;--foo&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>while a positional argument could be created like:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;bar&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>When <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#parseArgs(java.lang.String[])"><span class="pre">ArgumentParser.parseArgs()</span></a></code> is called, named arguments will
be identified by the <code class="docutils literal notranslate"><span class="pre">-</span></code> prefix (or one of
<a class="reference internal" href="#argumentparserbuilder-prefixchars"><span class="std std-ref">prefixChars</span></a> if it is
specified, and the remaining arguments will be assumed to be
positional:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;-f&quot;</span><span class="p">,</span> <span class="s">&quot;--foo&quot;</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;bar&quot;</span><span class="p">);</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">ArgumentParserException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">parser</span><span class="p">.</span><span class="na">handleError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo BAR
<span class="go">Namespace(foo=null, bar=BAR)</span>
<span class="gp">$ </span>java Demo BAR --foo FOO
<span class="go">Namespace(foo=FOO, bar=BAR)</span>
<span class="gp">$ </span>java Demo --foo FOO
<span class="go">usage: prog [-h] [-f FOO] bar</span>
<span class="go">prog: error: too few arguments</span>
</pre></div>
</div>
</div>
<div class="section" id="argument-action">
<span id="id7"></span><h3>Argument.action()<a class="headerlink" href="#argument-action" title="Permalink to this headline">¶</a></h3>
<p><code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Argument.html"><span class="pre">Argument</span></a></code> objects associate command line arguments with
actions. These actions can do just about anything with command line
arguments associated with them, though most of the actions simply add
an attribute to the object returned by
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#parseArgs(java.lang.String[])"><span class="pre">ArgumentParser.parseArgs()</span></a></code>.  The <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Argument.html#action(net.sourceforge.argparse4j.inf.ArgumentAction)"><span class="pre">Argument.action()</span></a></code> method
specifies how the command line arguments should be handled. The
supported actions follow.</p>
<div class="section" id="arguments-store">
<span id="id8"></span><h4>Arguments.store()<a class="headerlink" href="#arguments-store" title="Permalink to this headline">¶</a></h4>
<p><code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/impl/Arguments.html#store()"><span class="pre">Arguments.store()</span></a></code> just stores the argument’s value. This is
the default action. For example:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;-f&quot;</span><span class="p">,</span> <span class="s">&quot;--foo&quot;</span><span class="p">);</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo --foo <span class="m">1</span>
<span class="go">Namespace(foo=1)</span>
</pre></div>
</div>
</div>
<div class="section" id="arguments-storeconst">
<span id="id9"></span><h4>Arguments.storeConst()<a class="headerlink" href="#arguments-storeconst" title="Permalink to this headline">¶</a></h4>
<p><code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/impl/Arguments.html#storeConst()"><span class="pre">Arguments.storeConst()</span></a></code> stores the value specified by the
<a class="reference internal" href="#argument-setconst"><span class="std std-ref">Argument.setConst()</span></a>. (Note that by default const value is the
rather unhelpful <code class="docutils literal notranslate"><span class="pre">null</span></code>.)  The <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/impl/Arguments.html#storeConst()"><span class="pre">Arguments.storeConst()</span></a></code> action is
most commonly used with named arguments that specify sort of
flags. For example:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--foo&quot;</span><span class="p">).</span><span class="na">action</span><span class="p">(</span><span class="n">Arguments</span><span class="p">.</span><span class="na">storeConst</span><span class="p">()).</span><span class="na">setConst</span><span class="p">(</span><span class="mi">42</span><span class="p">);</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo --foo
<span class="go">Namespace(foo=42)</span>
</pre></div>
</div>
</div>
<div class="section" id="arguments-storetrue-and-arguments-storefalse">
<span id="arguments-storebool"></span><h4>Arguments.storeTrue() and Arguments.storeFalse()<a class="headerlink" href="#arguments-storetrue-and-arguments-storefalse" title="Permalink to this headline">¶</a></h4>
<p><code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/impl/Arguments.html#storeTrue()"><span class="pre">Arguments.storeTrue()</span></a></code> and <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/impl/Arguments.html#storeFalse()"><span class="pre">Arguments.storeFalse()</span></a></code> are special cases
of <a class="reference internal" href="#arguments-storeconst"><span class="std std-ref">Arguments.storeConst()</span></a> using for storing values <code class="docutils literal notranslate"><span class="pre">true</span></code> and
<code class="docutils literal notranslate"><span class="pre">false</span></code> respectively. In addition, they create default values of
<code class="docutils literal notranslate"><span class="pre">false</span></code> and <code class="docutils literal notranslate"><span class="pre">true</span></code> respectively. For example:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--foo&quot;</span><span class="p">).</span><span class="na">action</span><span class="p">(</span><span class="n">Arguments</span><span class="p">.</span><span class="na">storeTrue</span><span class="p">());</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--bar&quot;</span><span class="p">).</span><span class="na">action</span><span class="p">(</span><span class="n">Arguments</span><span class="p">.</span><span class="na">storeFalse</span><span class="p">());</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--baz&quot;</span><span class="p">).</span><span class="na">action</span><span class="p">(</span><span class="n">Arguments</span><span class="p">.</span><span class="na">storeFalse</span><span class="p">());</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo --foo --bar
<span class="go">Namespace(baz=true, foo=true, bar=false)</span>
</pre></div>
</div>
</div>
<div class="section" id="arguments-append">
<span id="arguments-appendaction"></span><h4>Arguments.append()<a class="headerlink" href="#arguments-append" title="Permalink to this headline">¶</a></h4>
<p><code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/impl/Arguments.html#append()"><span class="pre">Arguments.append()</span></a></code> stores a list, and appends each argument value to
the list. The list is of type <code class="xref docutils literal notranslate"><span class="pre">List</span></code>. This is useful to
allow an option to be specified multiple times. For example:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--foo&quot;</span><span class="p">).</span><span class="na">action</span><span class="p">(</span><span class="n">Arguments</span><span class="p">.</span><span class="na">append</span><span class="p">());</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo --foo <span class="m">1</span> --foo <span class="m">2</span>
<span class="go">Namespace(foo=[1, 2])</span>
</pre></div>
</div>
</div>
<div class="section" id="arguments-appendconst">
<span id="id10"></span><h4>Arguments.appendConst()<a class="headerlink" href="#arguments-appendconst" title="Permalink to this headline">¶</a></h4>
<p><code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/impl/Arguments.html#appendConst()"><span class="pre">Arguments.appendConst()</span></a></code> stores a list, and appends the value specified
by <a class="reference internal" href="#argument-setconst"><span class="std std-ref">Argument.setConst()</span></a> to the list. (Note that the const value
defaults to <code class="docutils literal notranslate"><span class="pre">null</span></code>.) The list is of type <code class="xref docutils literal notranslate"><span class="pre">List</span></code>. The
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/impl/Arguments.html#appendConst()"><span class="pre">Arguments.appendConst()</span></a></code> action is typically useful when multiple
arguments need to store constants to the same list. For example:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--str&quot;</span><span class="p">)</span>
        <span class="p">.</span><span class="na">dest</span><span class="p">(</span><span class="s">&quot;types&quot;</span><span class="p">)</span>
        <span class="p">.</span><span class="na">action</span><span class="p">(</span><span class="n">Arguments</span><span class="p">.</span><span class="na">appendConst</span><span class="p">())</span>
        <span class="p">.</span><span class="na">setConst</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--int&quot;</span><span class="p">)</span>
        <span class="p">.</span><span class="na">dest</span><span class="p">(</span><span class="s">&quot;types&quot;</span><span class="p">)</span>
        <span class="p">.</span><span class="na">action</span><span class="p">(</span><span class="n">Arguments</span><span class="p">.</span><span class="na">appendConst</span><span class="p">())</span>
        <span class="p">.</span><span class="na">setConst</span><span class="p">(</span><span class="n">Integer</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo --str --int
<span class="go">Namespace(types=[class java.lang.String, class java.lang.Integer])</span>
</pre></div>
</div>
</div>
<div class="section" id="arguments-count">
<span id="id11"></span><h4>Arguments.count()<a class="headerlink" href="#arguments-count" title="Permalink to this headline">¶</a></h4>
<p><code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/impl/Arguments.html#count()"><span class="pre">Arguments.count()</span></a></code> counts the number of times an option occurs. For
example, this is useful for increasing verbosity levels:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--verbose&quot;</span><span class="p">,</span> <span class="s">&quot;-v&quot;</span><span class="p">).</span><span class="na">action</span><span class="p">(</span><span class="n">Arguments</span><span class="p">.</span><span class="na">count</span><span class="p">());</span>
    <span class="n">Namespace</span> <span class="n">res</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="na">parseArgsOrFail</span><span class="p">(</span><span class="n">args</span><span class="p">);</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">res</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo -vvv
<span class="go">Namespace(verbose=3)</span>
</pre></div>
</div>
</div>
<div class="section" id="arguments-version">
<span id="id12"></span><h4>Arguments.version()<a class="headerlink" href="#arguments-version" title="Permalink to this headline">¶</a></h4>
<p><code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/impl/Arguments.html#version()"><span class="pre">Arguments.version()</span></a></code> prints version string specified by
<a class="reference internal" href="#argumentparser-version"><span class="std std-ref">ArgumentParser.version()</span></a> and exists when invoked:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;PROG&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">()</span>
        <span class="p">.</span><span class="na">version</span><span class="p">(</span><span class="s">&quot;${prog} 2.0&quot;</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--version&quot;</span><span class="p">).</span><span class="na">action</span><span class="p">(</span><span class="n">Arguments</span><span class="p">.</span><span class="na">version</span><span class="p">());</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo --version
<span class="go">PROG 2.0</span>
</pre></div>
</div>
</div>
<div class="section" id="arguments-help">
<span id="id13"></span><h4>Arguments.help()<a class="headerlink" href="#arguments-help" title="Permalink to this headline">¶</a></h4>
<p><code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/impl/Arguments.html#help()"><span class="pre">Arguments.help()</span></a></code> prints help message and exits when invoked:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">addHelp</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>
            <span class="p">.</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--help&quot;</span><span class="p">).</span><span class="na">action</span><span class="p">(</span><span class="n">Arguments</span><span class="p">.</span><span class="na">help</span><span class="p">());</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo --help
<span class="go">usage: prog [--help]</span>

<span class="go">named arguments:</span>
<span class="go">  --help</span>
</pre></div>
</div>
</div>
<div class="section" id="custom-actions">
<h4>Custom actions<a class="headerlink" href="#custom-actions" title="Permalink to this headline">¶</a></h4>
<p>You can also specify your custom action by implementing
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentAction.html"><span class="pre">ArgumentAction</span></a></code> interface. For example:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">private</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">FooAction</span> <span class="kd">implements</span> <span class="n">ArgumentAction</span> <span class="p">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="p">(</span><span class="n">ArgumentParser</span> <span class="n">parser</span><span class="p">,</span> <span class="n">Argument</span> <span class="n">arg</span><span class="p">,</span>
            <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">String</span> <span class="n">flag</span><span class="p">,</span> <span class="n">Object</span> <span class="n">value</span><span class="p">)</span>
            <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">printf</span><span class="p">(</span><span class="s">&quot;%s &#39;%s&#39; %s\n&quot;</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">flag</span><span class="p">);</span>
        <span class="n">attrs</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="n">arg</span><span class="p">.</span><span class="na">getDest</span><span class="p">(),</span> <span class="n">value</span><span class="p">);</span>

    <span class="p">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAttach</span><span class="p">(</span><span class="n">Argument</span> <span class="n">arg</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">consumeArgument</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">FooAction</span> <span class="n">fooAction</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FooAction</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--foo&quot;</span><span class="p">).</span><span class="na">action</span><span class="p">(</span><span class="n">fooAction</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;bar&quot;</span><span class="p">).</span><span class="na">action</span><span class="p">(</span><span class="n">fooAction</span><span class="p">);</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo  <span class="m">1</span> --foo <span class="m">2</span>
<span class="go">{foo=null, bar=null} &#39;1&#39; null</span>
<span class="go">{foo=null, bar=1} &#39;2&#39; --foo</span>
<span class="go">Namespace(foo=2, bar=1)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="argument-nargs">
<span id="id14"></span><h3>Argument.nargs()<a class="headerlink" href="#argument-nargs" title="Permalink to this headline">¶</a></h3>
<p><code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html"><span class="pre">ArgumentParser</span></a></code> objects usually associate a single
command line argument with a single action to be taken. The
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Argument.html#nargs(int)"><span class="pre">Argument.nargs()</span></a></code> associate different number of command line arguments
with a single action. The supported values are:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">N</span></code> (an integer). <code class="docutils literal notranslate"><span class="pre">N</span></code> arguments from the command line will be
gathered into a <code class="xref docutils literal notranslate"><span class="pre">List</span></code>. For example:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--foo&quot;</span><span class="p">).</span><span class="na">nargs</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;bar&quot;</span><span class="p">).</span><span class="na">nargs</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo c --foo a b
<span class="go">Namespace(foo=[a, b], bar=[c])</span>
</pre></div>
</div>
<p>Note that <code class="docutils literal notranslate"><span class="pre">nargs(1)</span></code> produces a list of one item. This is different
from the default, in which the item is produced by itself.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;?&quot;</span></code>.  One argument will be consumed from the command line if
possible, and produced as a single item. If no command line argument
is present, the value from <a class="reference internal" href="#argument-setdefault"><span class="std std-ref">Argument.setDefault()</span></a> will be
produced. Note that for named arguments, there is an additional
case - the option string is present but not followed by a command
line argument. In this case the value from <a class="reference internal" href="#argument-setconst"><span class="std std-ref">Argument.setConst()</span></a>
will be produced. Some examples to illustrate this:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--foo&quot;</span><span class="p">).</span><span class="na">nargs</span><span class="p">(</span><span class="s">&quot;?&quot;</span><span class="p">).</span><span class="na">setConst</span><span class="p">(</span><span class="s">&quot;c&quot;</span><span class="p">).</span><span class="na">setDefault</span><span class="p">(</span><span class="s">&quot;d&quot;</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;bar&quot;</span><span class="p">).</span><span class="na">nargs</span><span class="p">(</span><span class="s">&quot;?&quot;</span><span class="p">).</span><span class="na">setDefault</span><span class="p">(</span><span class="s">&quot;d&quot;</span><span class="p">);</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo XX --foo YY
<span class="go">Namespace(foo=YY, bar=XX)</span>
<span class="gp">$ </span>java Demo XX --foo
<span class="go">Namespace(foo=c, bar=XX)</span>
<span class="gp">$ </span>java Demo
<span class="go">Namespace(foo=d, bar=d)</span>
</pre></div>
</div>
<p>One of the more common usage of <code class="docutils literal notranslate"><span class="pre">nargs(&quot;?&quot;)</span></code> is to allow
optional input and output files:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;infile&quot;</span><span class="p">).</span><span class="na">nargs</span><span class="p">(</span><span class="s">&quot;?&quot;</span><span class="p">).</span><span class="na">type</span><span class="p">(</span><span class="n">FileInputStream</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
            <span class="p">.</span><span class="na">setDefault</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">in</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;outfile&quot;</span><span class="p">).</span><span class="na">nargs</span><span class="p">(</span><span class="s">&quot;?&quot;</span><span class="p">).</span><span class="na">type</span><span class="p">(</span><span class="n">PrintStream</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
            <span class="p">.</span><span class="na">setDefault</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">);</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo input.txt output.txt
<span class="go">Namespace(infile=java.io.FileInputStream@4ce86da0, outfile=java.io.PrintStream@2f754ad2)</span>
<span class="gp">$ </span>java Demo
<span class="go">Namespace(infile=java.io.BufferedInputStream@e05d173, outfile=java.io.PrintStream@1ff9dc36)</span>
</pre></div>
</div>
<p>It is not obvious that outfile points to output.txt from the abolve
output, but it is actually PrintStream to outfile.txt.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;*&quot;</span></code>. All command line arguments present are gathered into a
<code class="xref docutils literal notranslate"><span class="pre">List</span></code>. Note that it generally does not make sense to have
more than one positional argument with <code class="docutils literal notranslate"><span class="pre">nargs(&quot;*&quot;)</span></code>, but multiple
optional arguments with <code class="docutils literal notranslate"><span class="pre">nargs(&quot;*&quot;)</span></code> is possible. For example:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--foo&quot;</span><span class="p">).</span><span class="na">nargs</span><span class="p">(</span><span class="s">&quot;*&quot;</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--bar&quot;</span><span class="p">).</span><span class="na">nargs</span><span class="p">(</span><span class="s">&quot;*&quot;</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;baz&quot;</span><span class="p">).</span><span class="na">nargs</span><span class="p">(</span><span class="s">&quot;*&quot;</span><span class="p">);</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo
<span class="go">Namespace(baz=[], foo=null, bar=null)</span>
<span class="gp">$ </span>java Demo a b --foo x y --bar <span class="m">1</span> <span class="m">2</span>
<span class="go">Namespace(baz=[a, b], foo=[x, y], bar=[1, 2])</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;+&quot;</span></code>. Just like <code class="docutils literal notranslate"><span class="pre">&quot;*&quot;</span></code>, all command line arguments present are
gathered into a <code class="xref docutils literal notranslate"><span class="pre">List</span></code>. Additionally, an error message
will be generated if there wasn’t at least one command line argument
present. For example:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">).</span><span class="na">nargs</span><span class="p">(</span><span class="s">&quot;+&quot;</span><span class="p">);</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">ArgumentParserException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">parser</span><span class="p">.</span><span class="na">handleError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo a b
<span class="go">Namespace(foo=[a, b])</span>
<span class="gp">$ </span>java Demo
<span class="go">usage: prog [-h] foo [foo ...]</span>
<span class="go">prog: error: too few arguments</span>
</pre></div>
</div>
</li>
</ul>
<p>If <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Argument.html#nargs(int)"><span class="pre">Argument.nargs()</span></a></code> is not used, the number of arguments consumed is
determined by the <a class="reference internal" href="#argument-action"><span class="std std-ref">Argument.action()</span></a>.  Generally this means a
single command line argument will be consumed and a single item(not a
<code class="xref docutils literal notranslate"><span class="pre">List</span></code>) will be produced.  Please note that <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Argument.html#nargs(int)"><span class="pre">Argument.nargs()</span></a></code>
are ignored if one of <a class="reference internal" href="#arguments-storeconst"><span class="std std-ref">Arguments.storeConst()</span></a>,
<a class="reference internal" href="#arguments-appendconst"><span class="std std-ref">Arguments.appendConst()</span></a>, <a class="reference internal" href="#arguments-storebool"><span class="std std-ref">Arguments.storeTrue() and Arguments.storeFalse()</span></a> is
provided. More specifically, subclass of <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentAction.html"><span class="pre">ArgumentAction</span></a></code>
whose <code class="xref docutils literal notranslate"><span class="pre">consumeArgument()</span></code> returns <code class="docutils literal notranslate"><span class="pre">false</span></code> ignores
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Argument.html#nargs(int)"><span class="pre">Argument.nargs()</span></a></code>.</p>
<p>In argparse4j 0.5.0 or earlier, <code class="docutils literal notranslate"><span class="pre">nargs(&quot;*&quot;)</span></code> or <code class="docutils literal notranslate"><span class="pre">nargs(&quot;+&quot;)</span></code> for
positional argument greedily consume all available positional
arguments.  For example, if we have the following program:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">ap</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newArgumentParser</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">);</span>
    <span class="n">ap</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">).</span><span class="na">nargs</span><span class="p">(</span><span class="s">&quot;*&quot;</span><span class="p">);</span>
    <span class="n">ap</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;bar&quot;</span><span class="p">);</span>
    <span class="n">ap</span><span class="p">.</span><span class="na">parseArgsOrFail</span><span class="p">(</span><span class="n">args</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If we give 1, 2, 3, 4, and 5 as command-line arguments, <code class="docutils literal notranslate"><span class="pre">foo</span></code>
consumes everything.  Because <code class="docutils literal notranslate"><span class="pre">bar</span></code> is required, the program will
show error “too few arguments”.  Since argparse4j 0.6.0,
<code class="docutils literal notranslate"><span class="pre">nargs(&quot;*&quot;)</span></code> or <code class="docutils literal notranslate"><span class="pre">nargs(&quot;+&quot;)</span></code> for positional argument leave
arguments to the remaining positional arguments to satisfy them with
the minimum number of arguments.  In the above example, <code class="docutils literal notranslate"><span class="pre">foo</span></code> now
consumes only 1, 2, 3, and 4, and leaves 5 to <code class="docutils literal notranslate"><span class="pre">bar</span></code>, because <code class="docutils literal notranslate"><span class="pre">bar</span></code>
is required argument, and consumes just 1 argument.</p>
</div>
<div class="section" id="argument-setconst">
<span id="id15"></span><h3>Argument.setConst()<a class="headerlink" href="#argument-setconst" title="Permalink to this headline">¶</a></h3>
<p>The <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Argument.html#setConst(java.lang.Object)"><span class="pre">Argument.setConst()</span></a></code> is used to hold constant values that are not
read from the command line but are required for the various actions.
The two most common uses of it are:</p>
<ul class="simple">
<li><p>When <a class="reference internal" href="#arguments-storeconst"><span class="std std-ref">Arguments.storeConst()</span></a> or <a class="reference internal" href="#arguments-appendconst"><span class="std std-ref">Arguments.appendConst()</span></a> are
specified.  These actions add the value spcified by
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Argument.html#setConst(java.lang.Object)"><span class="pre">Argument.setConst()</span></a></code> to one of the attributes of the object
returned by <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#parseArgs(java.lang.String[])"><span class="pre">ArgumentParser.parseArgs()</span></a></code>.  See the
<a class="reference internal" href="#argument-action"><span class="std std-ref">Argument.action()</span></a> for examples.</p></li>
<li><p>When <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#addArgument(java.lang.String...)"><span class="pre">ArgumentParser.addArgument()</span></a></code> is called with option strings
(like <code class="docutils literal notranslate"><span class="pre">-f</span></code> or <code class="docutils literal notranslate"><span class="pre">--foo</span></code>) and <code class="docutils literal notranslate"><span class="pre">nargs(&quot;?&quot;)</span></code> is used.  This creates
a named argument that can be followed by zero or one command
line argument. When parsing the command line, if the option string
is encountered with no command line argument following it, the value
specified by <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Argument.html#setConst(java.lang.Object)"><span class="pre">Argument.setConst()</span></a></code> will be assumed instead.  See the
<a class="reference internal" href="#argument-nargs"><span class="std std-ref">Argument.nargs()</span></a> description for examples.  The const value
defauls to <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p></li>
</ul>
</div>
<div class="section" id="argument-setdefault">
<span id="id16"></span><h3>Argument.setDefault()<a class="headerlink" href="#argument-setdefault" title="Permalink to this headline">¶</a></h3>
<p>All named arguments and some positional arguments may be omitted at
the command line.  The <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Argument.html#setDefault(java.lang.Object)"><span class="pre">Argument.setDefault()</span></a></code> specifies what
value should be used if the command line argument is not present. The
default value defaults to <code class="docutils literal notranslate"><span class="pre">null</span></code>. For named arguments, the
default value is used when the option string was not present at the
command line:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--foo&quot;</span><span class="p">).</span><span class="na">setDefault</span><span class="p">(</span><span class="mi">42</span><span class="p">);</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo --foo <span class="m">2</span>
<span class="go">Namespace(foo=2)</span>
<span class="gp">$ </span>java Demo
<span class="go">Namespace(foo=42)</span>
</pre></div>
</div>
<p>For positional arguments with <code class="docutils literal notranslate"><span class="pre">nargs(&quot;?&quot;)</span></code> or <code class="docutils literal notranslate"><span class="pre">nargs(&quot;*&quot;)</span></code>, the
default value is used when no command line argument was present:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">).</span><span class="na">nargs</span><span class="p">(</span><span class="s">&quot;?&quot;</span><span class="p">).</span><span class="na">setDefault</span><span class="p">(</span><span class="mi">42</span><span class="p">);</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo a
<span class="go">Namespace(foo=a)</span>
<span class="gp">$ </span>java Demo
<span class="go">Namespace(foo=42)</span>
</pre></div>
</div>
<p>Providing <code class="xref docutils literal notranslate"><span class="pre">Arguments.SUPPRESS</span></code> causes no attribute to be
added if the command line argument was not present:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--foo&quot;</span><span class="p">).</span><span class="na">setDefault</span><span class="p">(</span><span class="n">Arguments</span><span class="p">.</span><span class="na">SUPPRESS</span><span class="p">);</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo
<span class="go">Namespace()</span>
<span class="gp">$ </span>java Demo --foo <span class="m">1</span>
<span class="go">Namespace(foo=1)</span>
</pre></div>
</div>
</div>
<div class="section" id="argument-type">
<span id="id17"></span><h3>Argument.type()<a class="headerlink" href="#argument-type" title="Permalink to this headline">¶</a></h3>
<p>By default, <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html"><span class="pre">ArgumentParser</span></a></code> objects read command line
arguments in as simple strings. However, quite often the command line
string should instead be interpreted as another type, like a
<code class="xref docutils literal notranslate"><span class="pre">Float</span></code> or <code class="xref docutils literal notranslate"><span class="pre">Integer</span></code>. The <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Argument.html#type(java.lang.Class)"><span class="pre">Argument.type()</span></a></code> allows
any necessary type-checking and type conversions to be performed.  The
Classes which have <code class="xref docutils literal notranslate"><span class="pre">valueOf()</span></code> static method with 1 String
argument or a constructor with 1 String argument can be passed
directly:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">).</span><span class="na">type</span><span class="p">(</span><span class="n">Integer</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">ArgumentParserException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">parser</span><span class="p">.</span><span class="na">handleError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo <span class="m">100</span>
<span class="go">Namespace(foo=100)</span>
</pre></div>
</div>
<p>As a convenience, if one of following primitive types
(<code class="docutils literal notranslate"><span class="pre">boolean.class</span></code>, <code class="docutils literal notranslate"><span class="pre">byte.class</span></code>, <code class="docutils literal notranslate"><span class="pre">short.class</span></code>, <code class="docutils literal notranslate"><span class="pre">int.class</span></code>,
<code class="docutils literal notranslate"><span class="pre">long.class</span></code>, <code class="docutils literal notranslate"><span class="pre">float.class</span></code> and <code class="docutils literal notranslate"><span class="pre">double.class</span></code>) is specified, it
is converted to its wrapped type counterpart. For example, if
<code class="docutils literal notranslate"><span class="pre">int.class</span></code> is given, it is automatically converted to
<code class="docutils literal notranslate"><span class="pre">Integer.class</span></code>.</p>
<p>Passing <code class="docutils literal notranslate"><span class="pre">Boolean.class</span></code> to <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Argument.html#type(java.lang.Class)"><span class="pre">Argument.type()</span></a></code> has a caveat.  Since it
relies on <code class="docutils literal notranslate"><span class="pre">Boolean.valueOf</span></code> method, any string which matches “true”
in case-insensitive fashion is converted to <code class="docutils literal notranslate"><span class="pre">Boolean.TRUE</span></code>, and
other strings are converted to <code class="docutils literal notranslate"><span class="pre">Boolean.FALSE</span></code>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">()</span>
            <span class="p">.</span><span class="na">defaultHelp</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;-f&quot;</span><span class="p">).</span><span class="na">type</span><span class="p">(</span><span class="n">Boolean</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>

    <span class="n">Namespace</span> <span class="n">res</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="na">parseArgsOrFail</span><span class="p">(</span><span class="n">args</span><span class="p">);</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">printf</span><span class="p">(</span><span class="s">&quot;f=%b\n&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;f&quot;</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo -f TRue
<span class="go">f=true</span>
<span class="gp">$ </span>java Demo -f foo
<span class="go">f=false</span>
</pre></div>
</div>
<p>If more strict boolean conversion is desirable, use
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/impl/Arguments.html#booleanType()"><span class="pre">Arguments.booleanType()</span></a></code>.  It only allows input
string <code class="docutils literal notranslate"><span class="pre">true</span></code> as true value, and <code class="docutils literal notranslate"><span class="pre">false</span></code> as false value.  Otherwise,
reports error:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">()</span>
            <span class="p">.</span><span class="na">defaultHelp</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;-f&quot;</span><span class="p">).</span><span class="na">type</span><span class="p">(</span><span class="n">Arguments</span><span class="p">.</span><span class="na">booleanType</span><span class="p">());</span>

    <span class="n">Namespace</span> <span class="n">res</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="na">parseArgsOrFail</span><span class="p">(</span><span class="n">args</span><span class="p">);</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">printf</span><span class="p">(</span><span class="s">&quot;f=%b\n&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;f&quot;</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo -f <span class="nb">true</span>
<span class="go">f=true</span>
<span class="gp">$ </span>java Demo -f TRue
<span class="go">usage: prog [-h] [-f {true,false}]</span>
<span class="go">prog: error: argument  -f:  could  not  convert  &#39;TRue&#39;  (choose from {true,</span>
<span class="go">false})</span>
<span class="gp">$ </span>java Demo -f foo
<span class="go">usage: prog [-h] [-f {true,false}]</span>
<span class="go">prog: error: argument  -f:  could  not  convert  &#39;foo&#39;  (choose  from {true,</span>
<span class="go">false})</span>
</pre></div>
</div>
<p>If application wants to change the valid input strings which can be
converted to true/false values, use
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/impl/Arguments.html#booleanType(java.lang.String,java.lang.String)"><span class="pre">Arguments.booleanType()</span></a></code>.
For example, to use <code class="docutils literal notranslate"><span class="pre">yes</span></code>, and <code class="docutils literal notranslate"><span class="pre">no</span></code> as true and false values
respectively instead of <code class="docutils literal notranslate"><span class="pre">true</span></code> and <code class="docutils literal notranslate"><span class="pre">false</span></code>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">()</span>
            <span class="p">.</span><span class="na">defaultHelp</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;-f&quot;</span><span class="p">).</span><span class="na">type</span><span class="p">(</span><span class="n">Arguments</span><span class="p">.</span><span class="na">booleanType</span><span class="p">(</span><span class="s">&quot;yes&quot;</span><span class="p">,</span> <span class="s">&quot;no&quot;</span><span class="p">));</span>

    <span class="n">Namespace</span> <span class="n">res</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="na">parseArgsOrFail</span><span class="p">(</span><span class="n">args</span><span class="p">);</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">printf</span><span class="p">(</span><span class="s">&quot;f=%b\n&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;f&quot;</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo -f yes
<span class="go">f=true</span>
<span class="gp">$ </span>java Demo -f no
<span class="go">f=false</span>
<span class="gp">$ </span>java Demo -f <span class="nb">true</span>
<span class="go">usage: prog [-h] [-f {yes,no}]</span>
<span class="go">prog: error: argument -f: could not convert &#39;true&#39; (choose from {yes,no})</span>
</pre></div>
</div>
<p>The <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Argument.html#type(java.lang.Class)"><span class="pre">Argument.type()</span></a></code> can accept enums.  Since enums have limited number
of members, type conversion effectively acts like a choice from
members. For example:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">enum</span> <span class="n">Enums</span> <span class="p">{</span>
    <span class="n">FOO</span><span class="p">,</span> <span class="n">BAR</span><span class="p">,</span> <span class="n">BAZ</span>
<span class="p">}</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;-x&quot;</span><span class="p">).</span><span class="na">type</span><span class="p">(</span><span class="n">Enums</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">Namespace</span> <span class="n">res</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">);</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">res</span><span class="p">);</span>
        <span class="n">Enums</span> <span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="n">Enums</span><span class="p">)</span> <span class="n">res</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;x&quot;</span><span class="p">);</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">printf</span><span class="p">(</span><span class="s">&quot;x=%s\n&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">.</span><span class="na">name</span><span class="p">());</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">ArgumentParserException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">parser</span><span class="p">.</span><span class="na">handleError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
        <span class="n">System</span><span class="p">.</span><span class="na">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo -x BAR
<span class="go">Namespace(x=BAR)</span>
<span class="go">x=BAR</span>
<span class="gp">$ </span>java Demo -h
<span class="go">usage: prog [-h] [-x X]</span>

<span class="go">named arguments:</span>
<span class="go">  -h, --help             show this help message and exit</span>
<span class="go">  -x X</span>
</pre></div>
</div>
<p>The available enum values are automatically used as metavar, if
metavar and choices are not explicitly set by application:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;-x&quot;</span><span class="p">).</span><span class="na">type</span><span class="p">(</span><span class="n">Enums</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo -h
<span class="go">usage: prog [-h] [-x {FOO,BAR,BAZ}]</span>

<span class="go">named arguments:</span>
<span class="go">  -h, --help             show this help message and exit</span>
<span class="go">  -x {FOO,BAR,BAZ}</span>
</pre></div>
</div>
<p>To limit enum values to choose from, specify them in
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Argument.html#choices(E...)"><span class="pre">Argument.choices()</span></a></code>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;-x&quot;</span><span class="p">).</span><span class="na">type</span><span class="p">(</span><span class="n">Enums</span><span class="p">.</span><span class="na">class</span><span class="p">).</span><span class="na">choices</span><span class="p">(</span><span class="n">Enums</span><span class="p">.</span><span class="na">FOO</span><span class="p">,</span> <span class="n">Enums</span><span class="p">.</span><span class="na">BAZ</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo -h
<span class="go">usage: prog [-h] [-x {FOO,BAZ}]</span>

<span class="go">named arguments:</span>
<span class="go">  -h, --help             show this help message and exit</span>
<span class="go">  -x {FOO,BAZ}</span>
</pre></div>
</div>
<p>There is a caveat when <code class="docutils literal notranslate"><span class="pre">Enum.toString()</span></code> method is overridden.  For
instance:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">enum</span> <span class="n">Lang</span> <span class="p">{</span>
    <span class="n">PYTHON</span><span class="p">,</span> <span class="n">JAVA</span><span class="p">,</span> <span class="n">CPP</span> <span class="p">{</span>
        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="s">&quot;C++&quot;</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="p">...</span>

<span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--lang&quot;</span><span class="p">).</span><span class="na">type</span><span class="p">(</span><span class="n">Lang</span><span class="p">.</span><span class="na">class</span><span class="p">).</span><span class="na">choices</span><span class="p">(</span><span class="n">Lang</span><span class="p">.</span><span class="na">values</span><span class="p">());</span>
</pre></div>
</div>
<p>We override <code class="docutils literal notranslate"><span class="pre">toString()</span></code> method of enum <code class="docutils literal notranslate"><span class="pre">CPP</span></code>.  The help message
prints fine:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nl">usage:</span> <span class="n">prog</span> <span class="o">[-</span><span class="n">h</span><span class="o">]</span> <span class="o">[--</span><span class="n">lang</span> <span class="p">{</span><span class="n">PYTHON</span><span class="p">,</span><span class="n">JAVA</span><span class="p">,</span><span class="n">C</span><span class="o">++</span><span class="p">}</span><span class="o">]</span>
</pre></div>
</div>
<p>But when we supply “C++” as parameter to <code class="docutils literal notranslate"><span class="pre">--lang</span></code>, argparse4j
complains like so:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span>prog: error: argument --lang:  could  not  convert  &#39;C++&#39;  to  Lang (No enum
constant Demo.Lang.C++)
</pre></div>
</div>
<p>This is because <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Argument.html#type(java.lang.Class)"><span class="pre">Argument.type()</span></a></code> does not take into account
<code class="docutils literal notranslate"><span class="pre">toString()</span></code> method override, and it still accepts “CPP” as
parameter (e.g., <code class="docutils literal notranslate"><span class="pre">--lang</span> <span class="pre">CPP</span></code>).  We could not fix treatment of enum
within <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Argument.html#type(java.lang.Class)"><span class="pre">Argument.type()</span></a></code>, since it could break existing code.  So, we
introduced <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/impl/Arguments.html#enumStringType(java.lang.Class)"><span class="pre">Arguments.enumStringType()</span></a></code> method (it returns object
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/impl/type/EnumStringArgumentType.html"><span class="pre">EnumStringArgumentType</span></a></code> which implements
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentType.html"><span class="pre">ArgumentType</span></a></code> we will talk abount soon).  It uses solely
<code class="docutils literal notranslate"><span class="pre">toString()</span></code> method when converting String to enum value.  If we use
this new type instead:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--lang&quot;</span><span class="p">)</span>
        <span class="p">.</span><span class="na">type</span><span class="p">(</span><span class="n">Arguments</span><span class="p">.</span><span class="na">enumStringType</span><span class="p">(</span><span class="n">Lang</span><span class="p">.</span><span class="na">class</span><span class="p">));</span>
</pre></div>
</div>
<p>Passing <code class="docutils literal notranslate"><span class="pre">--lang</span> <span class="pre">&quot;C++&quot;</span></code> just works as expected.
Please note that <code class="docutils literal notranslate"><span class="pre">--lang</span> <span class="pre">CPP</span></code> no longer works in this case.</p>
<p>To use case-insensitive matching of enum value names, use either
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/impl/Arguments.html#caseInsensitiveEnumType(java.lang.Class)"><span class="pre">Arguments.caseInsensitiveEnumType()</span></a></code> (uses <code class="docutils literal notranslate"><span class="pre">name()</span></code>) or
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/impl/Arguments.html#caseInsensitiveEnumStringType(java.lang.Class)"><span class="pre">Arguments.caseInsensitiveEnumStringType()</span></a></code> (uses <code class="docutils literal notranslate"><span class="pre">toString()</span></code>). Note
that <code class="docutils literal notranslate"><span class="pre">Locale.ROOT</span></code> is used for case-insensitive comparison to
ensure that correct parsing of arguments is not dependent on the
locale of the parser.</p>
<p>The <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Argument.html#type(java.lang.Class)"><span class="pre">Argument.type()</span></a></code> has a version which accepts an object which
implements <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentType.html"><span class="pre">ArgumentType</span></a></code> interface:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">private</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">PerfectSquare</span> <span class="kd">implements</span> <span class="n">ArgumentType</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="p">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">Integer</span> <span class="nf">convert</span><span class="p">(</span><span class="n">ArgumentParser</span> <span class="n">parser</span><span class="p">,</span> <span class="n">Argument</span> <span class="n">arg</span><span class="p">,</span> <span class="n">String</span> <span class="n">value</span><span class="p">)</span>
            <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
        <span class="k">try</span> <span class="p">{</span>
            <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">Integer</span><span class="p">.</span><span class="na">parseInt</span><span class="p">(</span><span class="n">value</span><span class="p">);</span>
            <span class="kt">double</span> <span class="n">sqrt</span> <span class="o">=</span> <span class="n">Math</span><span class="p">.</span><span class="na">sqrt</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">sqrt</span> <span class="o">!=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="n">sqrt</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">throw</span> <span class="k">new</span> <span class="n">ArgumentParserException</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="na">format</span><span class="p">(</span>
                        <span class="s">&quot;%d is not a perfect square&quot;</span><span class="p">,</span> <span class="n">n</span><span class="p">),</span> <span class="n">parser</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="n">n</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">NumberFormatException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="n">ArgumentParserException</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">parser</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">).</span><span class="na">type</span><span class="p">(</span><span class="k">new</span> <span class="n">PerfectSquare</span><span class="p">());</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">ArgumentParserException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">parser</span><span class="p">.</span><span class="na">handleError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo <span class="m">9</span>
<span class="go">Namespace(foo=9)</span>
<span class="gp">$ </span>java Demo <span class="m">7</span>
<span class="go">usage: prog [-h] foo</span>
<span class="go">prog: error: 7 is not a perfect square</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="#argument-choices"><span class="std std-ref">Argument.choices()</span></a> may be more convenient for type checkers
that simply check against a range of values:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">).</span><span class="na">type</span><span class="p">(</span><span class="n">Integer</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
            <span class="p">.</span><span class="na">choices</span><span class="p">(</span><span class="n">Arguments</span><span class="p">.</span><span class="na">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">));</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">ArgumentParserException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">parser</span><span class="p">.</span><span class="na">handleError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo <span class="m">7</span>
<span class="go">Namespace(foo=7)</span>
<span class="gp">$ </span>java Demo <span class="m">11</span>
<span class="go">usage: prog [-h] foo</span>
<span class="go">prog: error: foo expects value in range [5, 10], inclusive</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="#argument-choices"><span class="std std-ref">Argument.choices()</span></a> for more details.</p>
<p>In some cases, type itself may infer metavar.  In that case, it is
more convenient to get metavar from type instead of setting metavar
for each argument.  To achieve this, if
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/MetavarInference.html"><span class="pre">MetavarInference</span></a></code> is implemented as well, it can infer
metavar through its interface method.  We mentioned that special
handling of <code class="docutils literal notranslate"><span class="pre">Boolean.class</span></code> for default metavar in
<a class="reference internal" href="#argument-metavar"><span class="std std-ref">Argument.metavar()</span></a> section.  It is implemented using
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/MetavarInference.html"><span class="pre">MetavarInference</span></a></code>.  Here is an example of implementation
of <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/MetavarInference.html#inferMetavar()"><span class="pre">MetavarInference.inferMetavar()</span></a></code> from
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/impl/ReflectArgumentType.html"><span class="pre">ReflectArgumentType</span></a></code>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Override</span>
<span class="kd">public</span> <span class="n">String</span><span class="o">[]</span> <span class="nf">inferMetavar</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">Boolean</span><span class="p">.</span><span class="na">class</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">type_</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="p">{</span> <span class="n">TextHelper</span><span class="p">.</span><span class="na">concat</span><span class="p">(</span>
            <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="p">{</span> <span class="s">&quot;true&quot;</span><span class="p">,</span> <span class="s">&quot;false&quot;</span> <span class="p">},</span> <span class="mi">0</span><span class="p">,</span> <span class="s">&quot;,&quot;</span><span class="p">,</span> <span class="s">&quot;{&quot;</span><span class="p">,</span> <span class="s">&quot;}&quot;</span><span class="p">)</span> <span class="p">};</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The name of types in messages can be localized. Names for the
primitive types (and their wrappers) are provided. Names for custom
types are looked up using the following methods. The first name that
is found is returned:</p>
<ol class="arabic simple">
<li><p>The key <code class="docutils literal notranslate"><span class="pre">displayName</span></code> is looked up in resource bundle
<code class="docutils literal notranslate"><span class="pre">&lt;fully-qualified</span> <span class="pre">type</span> <span class="pre">name&gt;-argparse4j</span></code>. For examaple: Resource
bundle <code class="docutils literal notranslate"><span class="pre">com/example/CustomType-argparse4j*.properties</span></code> is used
for <code class="docutils literal notranslate"><span class="pre">com.example.CustomType</span></code>.</p></li>
<li><p>The simple name of the class of the type prepended with <code class="docutils literal notranslate"><span class="pre">type.</span></code>
is used as a key to look up the name in the resource bundle of
argparse4j. This method provides the names for primitive type
wrappers. For example: The key <code class="docutils literal notranslate"><span class="pre">type.Integer</span></code> is used  for
<code class="docutils literal notranslate"><span class="pre">java.lang.Integer</span></code>.</p></li>
<li><p>The simple name of the class of the custom type.</p></li>
</ol>
<p>Note that if your custom type has the same simple name as a wrapper
for a primitive type, the localized name of that wrapper will also be
used for your custom type.</p>
</div>
<div class="section" id="argument-choices">
<span id="id18"></span><h3>Argument.choices()<a class="headerlink" href="#argument-choices" title="Permalink to this headline">¶</a></h3>
<p>Some command line arguments should be selected from a restricted set
of values. These can be handled by passing a list of objects to
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Argument.html#choices(E...)"><span class="pre">Argument.choices()</span></a></code>. When the command line is parsed, argument values
will be checked, and an error message will be displayed if the
argument was not one of the accepted values:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">).</span><span class="na">choices</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">,</span> <span class="s">&quot;c&quot;</span><span class="p">);</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">ArgumentParserException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">parser</span><span class="p">.</span><span class="na">handleError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo c
<span class="go">Namespace(foo=c)</span>
<span class="gp">$ </span>java Demo X
<span class="go">usage: prog [-h] {a,b,c}</span>
<span class="go">prog: error: argument foo: invalid choice: &#39;X&#39; (choose from {a,b,c})</span>
</pre></div>
</div>
<p>Note that inclusion in the choices list is checked after any type
conversions have been performed. If a list of value is not enough, you
can create your own by subclassing <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentChoice.html"><span class="pre">ArgumentChoice</span></a></code>. For
example, argparse4j provides <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/impl/Arguments.html#range(T,T)"><span class="pre">Arguments.range()</span></a></code> to check whether an
integer is in specified range:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">).</span><span class="na">type</span><span class="p">(</span><span class="n">Integer</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
            <span class="p">.</span><span class="na">choices</span><span class="p">(</span><span class="n">Arguments</span><span class="p">.</span><span class="na">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">));</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">ArgumentParserException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">parser</span><span class="p">.</span><span class="na">handleError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo <span class="m">1</span>
<span class="go">Namespace(foo=1)</span>
<span class="gp">$ </span>java Demo <span class="m">11</span>
<span class="go">usage: prog [-h] foo</span>
<span class="go">prog: error: foo expects value in range [1, 10], inclusive</span>
</pre></div>
</div>
<p>Please pay attention to the type specified in <a class="reference internal" href="#argument-type"><span class="std std-ref">Argument.type()</span></a> and
type in <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Argument.html#choices(E...)"><span class="pre">Argument.choices()</span></a></code>. If they are not compatible, subclass of
<code class="xref docutils literal notranslate"><span class="pre">RuntimeException</span></code> will be thrown.</p>
</div>
<div class="section" id="argument-required">
<span id="id19"></span><h3>Argument.required()<a class="headerlink" href="#argument-required" title="Permalink to this headline">¶</a></h3>
<p>In general, the <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html"><span class="pre">ArgumentParser</span></a></code> assumes that flags like
<code class="docutils literal notranslate"><span class="pre">-f</span></code> and <code class="docutils literal notranslate"><span class="pre">--bar</span></code> indicate named arguments, which can always
be omitted at the command line. To make an option required, <code class="docutils literal notranslate"><span class="pre">true</span></code>
can be specified for <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Argument.html#required(boolean)"><span class="pre">Argument.required()</span></a></code>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--foo&quot;</span><span class="p">).</span><span class="na">required</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">ArgumentParserException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">parser</span><span class="p">.</span><span class="na">handleError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo --foo BAR
<span class="go">Namespace(foo=BAR)</span>
<span class="gp">$ </span>java Demo
<span class="go">usage: prog [-h] --foo FOO</span>
<span class="go">prog: error: argument --foo is required</span>
</pre></div>
</div>
<p>As the example shows, if an option is marked as required,
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#parseArgs(java.lang.String[])"><span class="pre">ArgumentParser.parseArgs()</span></a></code> will report an error if that option is not
present at the command line.  <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Argument.html#required(boolean)"><span class="pre">Argument.required()</span></a></code> will be ignored for
positional arguments.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Required options are generally considered bad form because users
expect options to be optional, and thus they should be avoided when
possible.</p>
</div>
</div>
<div class="section" id="argument-help">
<span id="id20"></span><h3>Argument.help()<a class="headerlink" href="#argument-help" title="Permalink to this headline">¶</a></h3>
<p><code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Argument.html#help(java.lang.String)"><span class="pre">Argument.help()</span></a></code> method can take string containing a brief description
of the argument. When a user requests help (usually by using <code class="docutils literal notranslate"><span class="pre">-h</span></code> or
<code class="docutils literal notranslate"><span class="pre">--help</span></code> at the command line), these help descriptions will be
displayed with each argument:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--foo&quot;</span><span class="p">).</span><span class="na">action</span><span class="p">(</span><span class="n">Arguments</span><span class="p">.</span><span class="na">storeTrue</span><span class="p">())</span>
            <span class="p">.</span><span class="na">help</span><span class="p">(</span><span class="s">&quot;foo the bars before frobbling&quot;</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;bar&quot;</span><span class="p">).</span><span class="na">nargs</span><span class="p">(</span><span class="s">&quot;+&quot;</span><span class="p">).</span><span class="na">help</span><span class="p">(</span><span class="s">&quot;one of the bars to be frobbled&quot;</span><span class="p">);</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">ArgumentParserException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">parser</span><span class="p">.</span><span class="na">handleError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo  -h
<span class="go">usage: prog [-h] [--foo] bar [bar ...]</span>

<span class="go">positional arguments:</span>
<span class="go">  bar                    one of the bars to be frobbled</span>

<span class="go">named arguments:</span>
<span class="go">  -h, --help             show this help message and exit</span>
<span class="go">  --foo                  foo the bars before frobbling</span>
</pre></div>
</div>
<p>The help strings are used as is: no special string replacement will
not be done.</p>
<p>The argparse4j supports silencing the help entry for certain options,
by passing <code class="xref docutils literal notranslate"><span class="pre">Arguments.SUPPRESS</span></code> to <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Argument.html#help(java.lang.String)"><span class="pre">Argument.help()</span></a></code> method:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--foo&quot;</span><span class="p">).</span><span class="na">help</span><span class="p">(</span><span class="n">Arguments</span><span class="p">.</span><span class="na">SUPPRESS</span><span class="p">);</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">Namespace</span> <span class="n">ns</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">ArgumentParserException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">parser</span><span class="p">.</span><span class="na">handleError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo -h
<span class="go">usage: prog [-h]</span>

<span class="go">named arguments:</span>
<span class="go">  -h, --help             show this help message and exit</span>
</pre></div>
</div>
</div>
<div class="section" id="argument-metavar">
<span id="id21"></span><h3>Argument.metavar()<a class="headerlink" href="#argument-metavar" title="Permalink to this headline">¶</a></h3>
<p>When <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html"><span class="pre">ArgumentParser</span></a></code> generates help messages, it need
some way to referer to each expected argument. By default,
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html"><span class="pre">ArgumentParser</span></a></code> objects use the “dest” value (see
<a class="reference internal" href="#argument-dest"><span class="std std-ref">Argument.dest()</span></a> about “dest” value) as the “name” of each object.
If <code class="docutils literal notranslate"><span class="pre">Boolean.class</span></code> is given to <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Argument.html#type(java.lang.Class)"><span class="pre">Argument.type()</span></a></code>, and if no metavar and
no choices are set, <code class="docutils literal notranslate"><span class="pre">{true,false}</span></code> is used as metavar automatically
for convenience.
Similarly, if enum type is given, and if no metavar and no choices are set,
a metavar containing their all names is automatically used for convenience
(these names are from <code class="docutils literal notranslate"><span class="pre">Enum.names()</span></code> instead of <code class="docutils literal notranslate"><span class="pre">Enum.toString()</span></code>).
By default, for positional arguments, the dest value is used directly,
and for named arguments, the dest value is uppercased. So, a single
positional argument with <code class="docutils literal notranslate"><span class="pre">dest(&quot;bar&quot;)</span></code> will be referred to as
<code class="docutils literal notranslate"><span class="pre">bar</span></code>. A single named argument <code class="docutils literal notranslate"><span class="pre">--foo</span></code> that should be followed
by a single command line argument will be referred to as <code class="docutils literal notranslate"><span class="pre">FOO</span></code>. For
example:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--foo&quot;</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;bar&quot;</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">printHelp</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo
<span class="go">usage: prog [-h] [--foo FOO] bar</span>

<span class="go">positional arguments:</span>
<span class="go">  bar</span>

<span class="go">named arguments:</span>
<span class="go">  -h, --help             show this help message and exit</span>
<span class="go">  --foo FOO</span>
</pre></div>
</div>
<p>An alternative name can be specified with <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Argument.html#metavar(java.lang.String...)"><span class="pre">Argument.metavar()</span></a></code>
method:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--foo&quot;</span><span class="p">).</span><span class="na">metavar</span><span class="p">(</span><span class="s">&quot;YY&quot;</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;bar&quot;</span><span class="p">).</span><span class="na">metavar</span><span class="p">(</span><span class="s">&quot;XX&quot;</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">printHelp</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo
<span class="go">usage: prog [-h] [--foo YY] XX</span>

<span class="go">positional arguments:</span>
<span class="go">  XX</span>

<span class="go">named arguments:</span>
<span class="go">  -h, --help             show this help message and exit</span>
<span class="go">  --foo YY</span>
</pre></div>
</div>
<p>Note that <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Argument.html#metavar(java.lang.String...)"><span class="pre">Argument.metavar()</span></a></code> method only changes the displayed name -
the name of the attribute in the object returned by
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#parseArgs(java.lang.String[])"><span class="pre">ArgumentParser.parseArgs()</span></a></code> method is still determined by the dest
value.  Different values of <a class="reference internal" href="#argument-nargs"><span class="std std-ref">Argument.nargs()</span></a> may cause the
metavar to be used multiple times. Providing multiple values to
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Argument.html#metavar(java.lang.String...)"><span class="pre">Argument.metavar()</span></a></code> method specifies a different display for each of
the arguments:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;-x&quot;</span><span class="p">).</span><span class="na">nargs</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--foo&quot;</span><span class="p">).</span><span class="na">nargs</span><span class="p">(</span><span class="mi">2</span><span class="p">).</span><span class="na">metavar</span><span class="p">(</span><span class="s">&quot;bar&quot;</span><span class="p">,</span> <span class="s">&quot;baz&quot;</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">printHelp</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo
<span class="go">usage: prog [-h] [-x X X] [--foo bar baz]</span>

<span class="go">named arguments:</span>
<span class="go">  -h, --help             show this help message and exit</span>
<span class="go">  -x X X</span>
<span class="go">  --foo bar baz</span>
</pre></div>
</div>
<p>If the number of values specified in <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Argument.html#metavar(java.lang.String...)"><span class="pre">Argument.metavar()</span></a></code> is not
sufficient for the number of arguments given in <a class="reference internal" href="#argument-nargs"><span class="std std-ref">Argument.nargs()</span></a>,
the last value of metavar is repeated.</p>
</div>
<div class="section" id="argument-dest">
<span id="id22"></span><h3>Argument.dest()<a class="headerlink" href="#argument-dest" title="Permalink to this headline">¶</a></h3>
<p>Most <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html"><span class="pre">ArgumentParser</span></a></code> actions add some values as an
attribute of the object returned by <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#parseArgs(java.lang.String[])"><span class="pre">ArgumentParser.parseArgs()</span></a></code>
method. The name of this attribute is determined by “dest”. For
positional arguments, dest is normally supplied as the first argument
to <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#addArgument(java.lang.String...)"><span class="pre">ArgumentParser.addArgument()</span></a></code> method, with any internal <code class="docutils literal notranslate"><span class="pre">-</span></code> converted
to <code class="docutils literal notranslate"><span class="pre">_</span></code>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;bar&quot;</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;foo-bar&quot;</span><span class="p">);</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo XX YY
<span class="go">Namespace(bar=XX, foo_bar=YY)</span>
</pre></div>
</div>
<p>For named arguments, the value of dest is normally inferred from
the option strings. <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html"><span class="pre">ArgumentParser</span></a></code> generates the value
of dest by taking the first long option string and stripping away the
initial <code class="docutils literal notranslate"><span class="pre">--</span></code> string. If no long option strings were supplied, dest
will be derived from the first short option string by stripping the
initial <code class="docutils literal notranslate"><span class="pre">-</span></code> character. Any internal <code class="docutils literal notranslate"><span class="pre">-</span></code> characters will be
converted to <code class="docutils literal notranslate"><span class="pre">_</span></code>. The example below illustrate this behavior:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;-f&quot;</span><span class="p">,</span> <span class="s">&quot;--foo-bar&quot;</span><span class="p">,</span> <span class="s">&quot;--foo&quot;</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;-x&quot;</span><span class="p">,</span> <span class="s">&quot;-y&quot;</span><span class="p">);</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo  -f <span class="m">1</span> -x <span class="m">2</span>
<span class="go">Namespace(x=2, foo_bar=1)</span>
<span class="gp">$ </span>java Demo  --foo <span class="m">1</span> -y <span class="m">2</span>
<span class="go">Namespace(x=2, foo_bar=1)</span>
</pre></div>
</div>
<p><code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Argument.html#dest(java.lang.String)"><span class="pre">Argument.dest()</span></a></code> method allows a custom attribute name to be provided:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--foo&quot;</span><span class="p">).</span><span class="na">dest</span><span class="p">(</span><span class="s">&quot;bar&quot;</span><span class="p">);</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo --foo XX
<span class="go">Namespace(bar=XX)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="the-argumentparser-parseargs-method">
<span id="argumentparser-parseargs"></span><h2>The ArgumentParser.parseArgs() method<a class="headerlink" href="#the-argumentparser-parseargs-method" title="Permalink to this headline">¶</a></h2>
<p><code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#parseArgs(java.lang.String[])"><span class="pre">ArgumentParser.parseArgs()</span></a></code> method converts argument strings to objects
and populates <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Namespace.html"><span class="pre">Namespace</span></a></code> object with these values. The
populated <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Namespace.html"><span class="pre">Namespace</span></a></code> object is returned.  Previous calls
to <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#addArgument(java.lang.String...)"><span class="pre">ArgumentParser.addArgument()</span></a></code> method determine exactly what objects
are created and how they are assigned. See the documentation for
<a class="reference internal" href="#adding-arguments"><span class="std std-ref">Adding arguments</span></a> for details.</p>
<p><code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html"><span class="pre">ArgumentParser</span></a></code> also provides a way to populate
attributes other than using <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Namespace.html"><span class="pre">Namespace</span></a></code> object. See
<a class="reference internal" href="#namespace"><span class="std std-ref">The Namespace object</span></a> for details.</p>
<div class="section" id="option-value-syntax">
<h3>Option value syntax<a class="headerlink" href="#option-value-syntax" title="Permalink to this headline">¶</a></h3>
<p><code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#parseArgs(java.lang.String[])"><span class="pre">ArgumentParser.parseArgs()</span></a></code> method supports several ways of specifying
the value of an option (if it takes one). In the simplest case, the
option and its value are passed as two separate arguments:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;-x&quot;</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--foo&quot;</span><span class="p">);</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo -x X
<span class="go">Namespace(foo=null, x=X)</span>
<span class="gp">$ </span>java Demo --foo FOO
<span class="go">Namespace(foo=FOO, x=null)</span>
</pre></div>
</div>
<p>For long options (options with names longer than single character),
the option and value can also be passed as a single command line
argument, using <code class="docutils literal notranslate"><span class="pre">=</span></code> to separate them:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo --foo<span class="o">=</span>FOO
<span class="go">Namespace(foo=FOO, x=null)</span>
</pre></div>
</div>
<p>For short options (options only one character long), the option and
its value can be concatenated:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo -xX
<span class="go">Namespace(foo=null, x=X)</span>
</pre></div>
</div>
<p>Several short options can be joined together, using only a single
<code class="docutils literal notranslate"><span class="pre">-</span></code> prefix, as long as only the last option (or none of them)
requires a value:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">ArgumentParserException</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;-x&quot;</span><span class="p">).</span><span class="na">action</span><span class="p">(</span><span class="n">Arguments</span><span class="p">.</span><span class="na">storeTrue</span><span class="p">());</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;-y&quot;</span><span class="p">).</span><span class="na">action</span><span class="p">(</span><span class="n">Arguments</span><span class="p">.</span><span class="na">storeTrue</span><span class="p">());</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;-z&quot;</span><span class="p">);</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo -xyzZ
<span class="go">Namespace(z=Z, y=true, x=true)</span>
</pre></div>
</div>
</div>
<div class="section" id="invalid-arguments">
<h3>Invalid arguments<a class="headerlink" href="#invalid-arguments" title="Permalink to this headline">¶</a></h3>
<p>While parsing the command line, <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#parseArgs(java.lang.String[])"><span class="pre">ArgumentParser.parseArgs()</span></a></code> method
checks for a variety of errors, including invalid types, invalid
options, wrong number of positional arguments, etc. When it encounters
such an error, it throws <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParserException.html"><span class="pre">ArgumentParserException</span></a></code>. The
typical error handling is catch the exception and use
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#handleError(net.sourceforge.argparse4j.inf.ArgumentParserException)"><span class="pre">ArgumentParser.handleError()</span></a></code> method to print error message and exit
the program:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--foo&quot;</span><span class="p">).</span><span class="na">type</span><span class="p">(</span><span class="n">Integer</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;bar&quot;</span><span class="p">).</span><span class="na">nargs</span><span class="p">(</span><span class="s">&quot;?&quot;</span><span class="p">);</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">ArgumentParserException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">parser</span><span class="p">.</span><span class="na">handleError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
        <span class="n">System</span><span class="p">.</span><span class="na">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo --foo spam
<span class="go">usage: prog [-h] [--foo FOO] [bar]</span>
<span class="go">prog: error: argument --foo: could not convert &#39;spam&#39; to integer (32 bits)</span>
<span class="gp">$ </span>java Demo --bar
<span class="go">usage: prog [-h] [--foo FOO] [bar]</span>
<span class="go">prog: error: unrecognized arguments: --bar</span>
<span class="gp">$ </span>java Demo spam badger
<span class="go">usage: prog [-h] [--foo FOO] [bar]</span>
<span class="go">prog: error: unrecognized arguments: badger</span>
</pre></div>
</div>
</div>
<div class="section" id="arguments-containing">
<h3>Arguments containing “-“<a class="headerlink" href="#arguments-containing" title="Permalink to this headline">¶</a></h3>
<p><code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#parseArgs(java.lang.String[])"><span class="pre">ArgumentParser.parseArgs()</span></a></code> method attempts to give errors whenever the
user has cearly made a mistake, but some situations are inherently
ambiguous. For example, the command line argument <code class="docutils literal notranslate"><span class="pre">-1</span></code> could either
be an attempt to specify an option or an attempt to provide a
positional argument. The <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#parseArgs(java.lang.String[])"><span class="pre">ArgumentParser.parseArgs()</span></a></code> method is cautious
here: positional arguments may only begin with <code class="docutils literal notranslate"><span class="pre">-</span></code> if they look like
negative numbers and there are no options in the parser that look like
negative numbers:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;-x&quot;</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">).</span><span class="na">nargs</span><span class="p">(</span><span class="s">&quot;?&quot;</span><span class="p">);</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">ArgumentParserException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">parser</span><span class="p">.</span><span class="na">handleError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
        <span class="n">System</span><span class="p">.</span><span class="na">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="c1"># no negative number options, so -1 is a positional argument</span>
<span class="gp">$ </span>java Demo -x -1
<span class="go">Namespace(foo=null, x=-1)</span>
<span class="gp">$ </span><span class="c1"># no negative number options, so -1 and -5 are positional arguments</span>
<span class="gp">$ </span>java Demo -x -1 -5
<span class="go">Namespace(foo=-5, x=-1)</span>
</pre></div>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;-1&quot;</span><span class="p">).</span><span class="na">dest</span><span class="p">(</span><span class="s">&quot;one&quot;</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">).</span><span class="na">nargs</span><span class="p">(</span><span class="s">&quot;?&quot;</span><span class="p">);</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">ArgumentParserException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">parser</span><span class="p">.</span><span class="na">handleError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
        <span class="n">System</span><span class="p">.</span><span class="na">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="c1"># negative number options present, so -1 is an option</span>
<span class="gp">$ </span>java Demo -1 X
<span class="go">Namespace(one=X, foo=null)</span>
<span class="gp">$ </span><span class="c1"># negative number options present, so -2 is an option</span>
<span class="gp">$ </span>java Demo -2
<span class="go">usage: prog [-h] [-1 ONE] [foo]</span>
<span class="go">prog: error: unrecognized arguments: -2</span>
<span class="gp">$ </span><span class="c1"># negative number options present, so both -1s are options</span>
<span class="gp">$ </span>java Demo -1 -1
<span class="go">usage: prog [-h] [-1 ONE] [foo]</span>
<span class="go">prog: error: argument -1: expected one argument</span>
</pre></div>
</div>
<p>If you have positional arguments that must begin with <code class="docutils literal notranslate"><span class="pre">-</span></code> and don’t
look like negative numbers, you can insert the pseudo-argument <code class="docutils literal notranslate"><span class="pre">--</span></code>
which tells <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#parseArgs(java.lang.String[])"><span class="pre">ArgumentParser.parseArgs()</span></a></code> method that everything after
that is a positional argument:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo -- -f
<span class="go">Namespace(one=null, foo=-f)</span>
</pre></div>
</div>
<p>Please note that whatever
<a class="reference internal" href="#argumentparserbuilder-prefixchars"><span class="std std-ref">prefixChars</span></a> is, pseudo-argument is
<code class="docutils literal notranslate"><span class="pre">--</span></code>.</p>
<p>After <code class="docutils literal notranslate"><span class="pre">--</span></code>, sub-command cannot be recognized.</p>
</div>
<div class="section" id="argument-abbreviations">
<h3>Argument abbreviations<a class="headerlink" href="#argument-abbreviations" title="Permalink to this headline">¶</a></h3>
<p>The <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#parseArgs(java.lang.String[])"><span class="pre">ArgumentParser.parseArgs()</span></a></code> method allows long options to be
abbreviated if the abbreviation is unambiguous:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">ap</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">ap</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;-bacon&quot;</span><span class="p">);</span>
    <span class="n">ap</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;-badger&quot;</span><span class="p">);</span>
    <span class="n">Namespace</span> <span class="n">res</span> <span class="o">=</span> <span class="n">ap</span><span class="p">.</span><span class="na">parseArgsOrFail</span><span class="p">(</span><span class="n">args</span><span class="p">);</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">res</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo -bac MMM
<span class="go">Namespace(bacon=MMM, badger=null)</span>
<span class="gp">$ </span>java Demo -bad WOOD
<span class="go">Namespace(bacon=null, badger=WOOD)</span>
<span class="gp">$ </span>java Demo -ba BA
<span class="go">usage: prog [-h] [-bacon BACON] [-badger BADGER]</span>
<span class="go">prog: error: ambiguous option: -ba could match -bacon, -badger</span>
</pre></div>
</div>
<p>An error is produced for arguments that could produce more than one
options.</p>
</div>
</div>
<div class="section" id="the-namespace-object">
<span id="namespace"></span><h2>The Namespace object<a class="headerlink" href="#the-namespace-object" title="Permalink to this headline">¶</a></h2>
<p><code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Namespace.html"><span class="pre">Namespace</span></a></code> object is used to store attributes as a
result of <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#parseArgs(java.lang.String[])"><span class="pre">ArgumentParser.parseArgs()</span></a></code> method. It is just a wrapper to
<code class="xref docutils literal notranslate"><span class="pre">Map</span></code> and several shortcut getter methods are provided. The
actual attributes are stored in <code class="xref docutils literal notranslate"><span class="pre">Map</span></code> object and can be
retrieved using <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Namespace.html#getAttrs()"><span class="pre">Namespace.getAttrs()</span></a></code> method.</p>
<p>You don’t have to use <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Namespace.html"><span class="pre">Namespace</span></a></code> object.  You can
directly populate attributes to your <code class="xref docutils literal notranslate"><span class="pre">Map</span></code> object using
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#parseArgs(java.lang.String[])"><span class="pre">ArgumentParser.parseArgs()</span></a></code> method.</p>
<p>You can also assign values to user defined object. In this case, you
can use <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/annotation/Arg.html"><span class="pre">Arg</span></a></code> annotation to designate where the
attribute to be stored.  To specify the name of attribute to assign,
use <code class="xref docutils literal notranslate"><span class="pre">Arg.dest</span></code>; if it is not specified the name of the
attribute or the method will be used instead.  For example:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">private</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">Option</span> <span class="p">{</span>

    <span class="nd">@Arg</span><span class="p">(</span><span class="n">dest</span> <span class="o">=</span> <span class="s">&quot;filename&quot;</span><span class="p">)</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="n">filename</span><span class="p">;</span>

    <span class="nd">@Arg</span><span class="p">(</span><span class="n">dest</span> <span class="o">=</span> <span class="s">&quot;rows&quot;</span><span class="p">)</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="n">matrix</span><span class="o">[][]</span><span class="p">;</span>

    <span class="nd">@Arg</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="n">url</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--rows&quot;</span><span class="p">).</span><span class="na">type</span><span class="p">(</span><span class="n">Integer</span><span class="p">.</span><span class="na">class</span><span class="p">).</span><span class="na">nargs</span><span class="p">(</span><span class="s">&quot;+&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="na">action</span><span class="p">(</span><span class="n">Arguments</span><span class="p">.</span><span class="na">append</span><span class="p">()).</span><span class="na">metavar</span><span class="p">(</span><span class="s">&quot;N&quot;</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--filename&quot;</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--url&quot;</span><span class="p">);</span>

    <span class="n">Option</span> <span class="n">opt</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Option</span><span class="p">();</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">opt</span><span class="p">);</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;outusername=&quot;</span> <span class="o">+</span> <span class="n">opt</span><span class="p">.</span><span class="na">filename</span><span class="p">);</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;outurl=&quot;</span> <span class="o">+</span> <span class="n">opt</span><span class="p">.</span><span class="na">url</span><span class="p">);</span>
        <span class="kt">int</span> <span class="n">rows</span> <span class="o">=</span> <span class="n">opt</span><span class="p">.</span><span class="na">matrix</span><span class="p">.</span><span class="na">length</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">rows</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">int</span> <span class="n">cols</span> <span class="o">=</span> <span class="n">opt</span><span class="p">.</span><span class="na">matrix</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">.</span><span class="na">length</span><span class="p">;</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">cols</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">printf</span><span class="p">(</span><span class="s">&quot;%d\t&quot;</span><span class="p">,</span> <span class="n">opt</span><span class="p">.</span><span class="na">matrix</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">ArgumentParserException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">parser</span><span class="p">.</span><span class="na">handleError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
        <span class="n">System</span><span class="p">.</span><span class="na">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo --rows <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> --rows <span class="m">4</span> <span class="m">5</span> <span class="m">6</span> --filename out --url http://example.com
<span class="go">outusername=out</span>
<span class="go">http://example.com</span>
<span class="go">1    2       3</span>
<span class="go">4    5       6</span>
</pre></div>
</div>
<p>As shown above, argparse4j supports simple <code class="xref docutils literal notranslate"><span class="pre">List</span></code> to array
conversion.  This is useful if you want primitive int array instead of
<code class="xref docutils literal notranslate"><span class="pre">List</span></code> of Integers.</p>
</div>
<div class="section" id="other-utilities">
<h2>Other utilities<a class="headerlink" href="#other-utilities" title="Permalink to this headline">¶</a></h2>
<div class="section" id="sub-commands">
<span id="id23"></span><h3>Sub-commands<a class="headerlink" href="#sub-commands" title="Permalink to this headline">¶</a></h3>
<p>Many programs split up their functionality into a number of
sub-commands, for example, the git program can invoke sub-commands
like <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">stash</span></code>, <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span></code> and <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code>. Splitting up
functionality this way can be a particularly good idea when a program
performs several different functions which requires different kinds of
command-line arguments. <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html"><span class="pre">ArgumentParser</span></a></code> supports the
creation of such sub-commands with the <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#addSubparsers()"><span class="pre">ArgumentParser.addSubparsers()</span></a></code>
method.  <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#addSubparsers()"><span class="pre">ArgumentParser.addSubparsers()</span></a></code> method is normally called with
no arguments and returns <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Subparsers.html"><span class="pre">Subparsers</span></a></code> object. This object
has <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Subparsers.html#addParser(java.lang.String)"><span class="pre">Subparsers.addParser()</span></a></code> method, which takes a command name and
returns <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Subparser.html"><span class="pre">Subparser</span></a></code> object. <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Subparsers.html#addParser(java.lang.String)"><span class="pre">Subparsers.addParser()</span></a></code> method
can take <em>prefixChars</em> argument just like
<a class="reference internal" href="#argumentparserbuilder-prefixchars"><span class="std std-ref">prefixChars</span></a>. If a version of
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Subparsers.html#addParser(java.lang.String)"><span class="pre">Subparsers.addParser()</span></a></code> method without <em>prefixChars</em> is used,
<em>prefixChars</em> is inherited from main parser. Some example usage:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--foo&quot;</span><span class="p">).</span><span class="na">action</span><span class="p">(</span><span class="n">Arguments</span><span class="p">.</span><span class="na">storeTrue</span><span class="p">()).</span><span class="na">help</span><span class="p">(</span><span class="s">&quot;foo help&quot;</span><span class="p">);</span>
    <span class="n">Subparsers</span> <span class="n">subparsers</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="na">addSubparsers</span><span class="p">().</span><span class="na">help</span><span class="p">(</span><span class="s">&quot;sub-command help&quot;</span><span class="p">);</span>

    <span class="n">Subparser</span> <span class="n">parserA</span> <span class="o">=</span> <span class="n">subparsers</span><span class="p">.</span><span class="na">addParser</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">).</span><span class="na">help</span><span class="p">(</span><span class="s">&quot;a help&quot;</span><span class="p">);</span>
    <span class="n">parserA</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;bar&quot;</span><span class="p">).</span><span class="na">type</span><span class="p">(</span><span class="n">Integer</span><span class="p">.</span><span class="na">class</span><span class="p">).</span><span class="na">help</span><span class="p">(</span><span class="s">&quot;bar help&quot;</span><span class="p">);</span>

    <span class="n">Subparser</span> <span class="n">parserB</span> <span class="o">=</span> <span class="n">subparsers</span><span class="p">.</span><span class="na">addParser</span><span class="p">(</span><span class="s">&quot;b&quot;</span><span class="p">).</span><span class="na">help</span><span class="p">(</span><span class="s">&quot;b help&quot;</span><span class="p">);</span>
    <span class="n">parserB</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--baz&quot;</span><span class="p">).</span><span class="na">choices</span><span class="p">(</span><span class="s">&quot;X&quot;</span><span class="p">,</span> <span class="s">&quot;Y&quot;</span><span class="p">,</span> <span class="s">&quot;Z&quot;</span><span class="p">).</span><span class="na">help</span><span class="p">(</span><span class="s">&quot;baz help&quot;</span><span class="p">);</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">ArgumentParserException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">parser</span><span class="p">.</span><span class="na">handleError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
        <span class="n">System</span><span class="p">.</span><span class="na">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo a <span class="m">12</span>
<span class="go">Namespace(foo=false, bar=12)</span>
<span class="gp">$ </span>java Demo --foo b --baz Z
<span class="go">Namespace(baz=Z, foo=true)</span>
</pre></div>
</div>
<p>Note that the object returned by <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#parseArgs(java.lang.String[])"><span class="pre">ArgumentParser.parseArgs()</span></a></code> method
will only contain attributes for the main parser and the subparser
that was selected by the command line (and not any other
subparsers). So in the example above, when the <code class="docutils literal notranslate"><span class="pre">a</span></code> command is
specified, only the <code class="docutils literal notranslate"><span class="pre">foo</span></code> and <code class="docutils literal notranslate"><span class="pre">bar</span></code> attributes are present, and
when the <code class="docutils literal notranslate"><span class="pre">b</span></code> command is specified, only <code class="docutils literal notranslate"><span class="pre">foo</span></code> and <code class="docutils literal notranslate"><span class="pre">baz</span></code>
attributes are present.  Similarly, when a help message is requested
from a subparser, only the help for that particular parser will be
printed. The help message will not include parent parser or sibling
parser messages (A help message for each subparser command, however,
can be given using <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Subparser.html#help(java.lang.String)"><span class="pre">Subparser.help()</span></a></code> method.):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo --help
<span class="go">usage: prog [-h] [--foo] {a,b} ...</span>

<span class="go">positional arguments:</span>
<span class="go">  {a,b}                  sub-command help</span>
<span class="go">    a                    a help</span>
<span class="go">    b                    b help</span>

<span class="go">named arguments:</span>
<span class="go">  -h, --help             show this help message and exit</span>
<span class="go">  --foo                  foo help</span>

<span class="gp">$ </span>java Demo a --help
<span class="go">usage: prog a [-h] bar</span>

<span class="go">positional arguments:</span>
<span class="go">  bar                    bar help</span>

<span class="go">named arguments:</span>
<span class="go">  -h, --help             show this help message and exit</span>

<span class="gp">$ </span>java Demo b --help
<span class="go">usage: prog b [-h] [--baz BAZ]</span>

<span class="go">named arguments:</span>
<span class="go">  -h, --help             show this help message and exit</span>
<span class="go">  --baz BAZ              baz help</span>
</pre></div>
</div>
<p><code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Subparsers.html"><span class="pre">Subparsers</span></a></code> also has <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Subparsers.html#title(java.lang.String)"><span class="pre">Subparsers.title()</span></a></code> method and
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Subparsers.html#description(java.lang.String)"><span class="pre">Subparsers.description()</span></a></code> method. When either is present, the
subparser’s commands will appear in their own group in the help
output. For example:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">Subparsers</span> <span class="n">subparsers</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="na">addSubparsers</span><span class="p">()</span>
            <span class="p">.</span><span class="na">title</span><span class="p">(</span><span class="s">&quot;subcommands&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="na">description</span><span class="p">(</span><span class="s">&quot;valid subcommands&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="na">help</span><span class="p">(</span><span class="s">&quot;additional help&quot;</span><span class="p">);</span>
    <span class="n">subparsers</span><span class="p">.</span><span class="na">addParser</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">);</span>
    <span class="n">subparsers</span><span class="p">.</span><span class="na">addParser</span><span class="p">(</span><span class="s">&quot;bar&quot;</span><span class="p">);</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">ArgumentParserException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">parser</span><span class="p">.</span><span class="na">handleError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
        <span class="n">System</span><span class="p">.</span><span class="na">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo -h
<span class="go">usage: prog [-h] {foo,bar} ...</span>

<span class="go">named arguments:</span>
<span class="go">  -h, --help             show this help message and exit</span>

<span class="go">subcommands:</span>
<span class="go">  valid subcommands</span>

<span class="go">  {foo,bar}              additional help</span>
</pre></div>
</div>
<p>As you can see above, all sub-commands are printed in help message.
It would be good for only 2 or 3 sub-commands, but if there are many
sub-commands, the display will become quite ugly.  In that case,
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Subparsers.html#metavar(java.lang.String)"><span class="pre">Subparsers.metavar()</span></a></code> method sets text to use instead of all
sub-command names. For example:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">Subparsers</span> <span class="n">subparsers</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="na">addSubparsers</span><span class="p">().</span><span class="na">title</span><span class="p">(</span><span class="s">&quot;subcommands&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="na">description</span><span class="p">(</span><span class="s">&quot;valid subcommands&quot;</span><span class="p">).</span><span class="na">help</span><span class="p">(</span><span class="s">&quot;additional help&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="na">metavar</span><span class="p">(</span><span class="s">&quot;COMMAND&quot;</span><span class="p">);</span>
    <span class="n">subparsers</span><span class="p">.</span><span class="na">addParser</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">).</span><span class="na">help</span><span class="p">(</span><span class="s">&quot;foo help&quot;</span><span class="p">);</span>
    <span class="n">subparsers</span><span class="p">.</span><span class="na">addParser</span><span class="p">(</span><span class="s">&quot;bar&quot;</span><span class="p">).</span><span class="na">help</span><span class="p">(</span><span class="s">&quot;bar help&quot;</span><span class="p">);</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">ArgumentParserException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">parser</span><span class="p">.</span><span class="na">handleError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
        <span class="n">System</span><span class="p">.</span><span class="na">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo -h
<span class="go">usage: prog [-h] COMMAND ...</span>

<span class="go">named arguments:</span>
<span class="go">  -h, --help             show this help message and exit</span>

<span class="go">subcommands:</span>
<span class="go">  valid subcommands</span>

<span class="go">  COMMAND                additional help</span>
<span class="go">    foo                  foo help</span>
<span class="go">    bar                  bar help</span>
</pre></div>
</div>
<p>The argparse4j supports silencing the help entry for certain
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Subparser.html"><span class="pre">Subparser</span></a></code>, by passing <code class="xref docutils literal notranslate"><span class="pre">Arguments.SUPPRESS</span></code>
to <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Subparser.html#help(java.lang.String)"><span class="pre">Subparser.help()</span></a></code> method:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">Subparsers</span> <span class="n">subparsers</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="na">addSubparsers</span><span class="p">()</span>
            <span class="p">.</span><span class="na">title</span><span class="p">(</span><span class="s">&quot;subcommands&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="na">description</span><span class="p">(</span><span class="s">&quot;valid subcommands&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="na">help</span><span class="p">(</span><span class="s">&quot;additional help&quot;</span><span class="p">);</span>
    <span class="n">subparsers</span><span class="p">.</span><span class="na">addParser</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">);</span>
    <span class="n">subparsers</span><span class="p">.</span><span class="na">addParser</span><span class="p">(</span><span class="s">&quot;bar&quot;</span><span class="p">).</span><span class="na">help</span><span class="p">(</span><span class="n">Arguments</span><span class="p">.</span><span class="na">SUPPRESS</span><span class="p">);</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">ArgumentParserException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">parser</span><span class="p">.</span><span class="na">handleError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
        <span class="n">System</span><span class="p">.</span><span class="na">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo -h
<span class="go">usage: prog [-h] {foo} ...</span>

<span class="go">optional arguments:</span>
<span class="go">  -h, --help             show this help message and exit</span>

<span class="go">subcommands:</span>
<span class="go">  valid subcommands</span>

<span class="go">  {foo}                  additional help</span>
</pre></div>
</div>
<p>Furthermore, <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Subparser.html"><span class="pre">Subparser</span></a></code> supports alias names, which
allows multiple strings to refer to the same subparser. This example,
like <code class="docutils literal notranslate"><span class="pre">svn</span></code>, aliases <code class="docutils literal notranslate"><span class="pre">co</span></code> as a shorthand for <code class="docutils literal notranslate"><span class="pre">checkout</span></code>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">Subparsers</span> <span class="n">subparsers</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="na">addSubparsers</span><span class="p">();</span>
    <span class="n">Subparser</span> <span class="n">checkout</span> <span class="o">=</span> <span class="n">subparsers</span><span class="p">.</span><span class="na">addParser</span><span class="p">(</span><span class="s">&quot;checkout&quot;</span><span class="p">).</span><span class="na">aliases</span><span class="p">(</span><span class="s">&quot;co&quot;</span><span class="p">);</span>
    <span class="n">checkout</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">);</span>
    <span class="n">Namespace</span> <span class="n">ns</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="na">parseArgsOrFail</span><span class="p">(</span><span class="n">args</span><span class="p">);</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">ns</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo co bar
<span class="go">Namespace(foo=bar)</span>
</pre></div>
</div>
<p>One particularly effective way of handling sub-commands is to combine
the use of <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Subparser.html#setDefault(java.lang.String,java.lang.Object)"><span class="pre">Subparser.setDefault()</span></a></code> method so that each subparser knows
which function it should execute. For example:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">private</span> <span class="kd">static</span> <span class="kd">interface</span> <span class="nc">Accumulate</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="nf">accumulate</span><span class="p">(</span><span class="n">Collection</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">ints</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">private</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">Sum</span> <span class="kd">implements</span> <span class="n">Accumulate</span> <span class="p">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">accumulate</span><span class="p">(</span><span class="n">Collection</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">ints</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">Integer</span> <span class="n">i</span> <span class="p">:</span> <span class="n">ints</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">sum</span> <span class="o">+=</span> <span class="n">i</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">sum</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">getClass</span><span class="p">().</span><span class="na">getSimpleName</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">private</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">Max</span> <span class="kd">implements</span> <span class="n">Accumulate</span> <span class="p">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">accumulate</span><span class="p">(</span><span class="n">Collection</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">ints</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">Collections</span><span class="p">.</span><span class="na">max</span><span class="p">(</span><span class="n">ints</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">getClass</span><span class="p">().</span><span class="na">getSimpleName</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">Subparsers</span> <span class="n">subparsers</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="na">addSubparsers</span><span class="p">();</span>
    <span class="n">Subparser</span> <span class="n">parserSum</span> <span class="o">=</span> <span class="n">subparsers</span><span class="p">.</span><span class="na">addParser</span><span class="p">(</span><span class="s">&quot;sum&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="na">setDefault</span><span class="p">(</span><span class="s">&quot;func&quot;</span><span class="p">,</span> <span class="k">new</span> <span class="n">Sum</span><span class="p">());</span>
    <span class="n">parserSum</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;ints&quot;</span><span class="p">).</span><span class="na">type</span><span class="p">(</span><span class="n">Integer</span><span class="p">.</span><span class="na">class</span><span class="p">).</span><span class="na">nargs</span><span class="p">(</span><span class="s">&quot;*&quot;</span><span class="p">);</span>
    <span class="n">Subparser</span> <span class="n">parserMax</span> <span class="o">=</span> <span class="n">subparsers</span><span class="p">.</span><span class="na">addParser</span><span class="p">(</span><span class="s">&quot;max&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="na">setDefault</span><span class="p">(</span><span class="s">&quot;func&quot;</span><span class="p">,</span> <span class="k">new</span> <span class="n">Max</span><span class="p">());</span>
    <span class="n">parserMax</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;ints&quot;</span><span class="p">).</span><span class="na">type</span><span class="p">(</span><span class="n">Integer</span><span class="p">.</span><span class="na">class</span><span class="p">).</span><span class="na">nargs</span><span class="p">(</span><span class="s">&quot;+&quot;</span><span class="p">);</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">Namespace</span> <span class="n">res</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">);</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(((</span><span class="n">Accumulate</span><span class="p">)</span> <span class="n">res</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;func&quot;</span><span class="p">))</span>
                <span class="p">.</span><span class="na">accumulate</span><span class="p">((</span><span class="n">Collection</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">res</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;ints&quot;</span><span class="p">)));</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">ArgumentParserException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">parser</span><span class="p">.</span><span class="na">handleError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo  sum <span class="m">1</span> <span class="m">3</span> <span class="m">2</span>
<span class="go">6</span>
<span class="gp">$ </span>java Demo  max <span class="m">1</span> <span class="m">3</span> <span class="m">2</span>
<span class="go">3</span>
</pre></div>
</div>
<p>The alternative way is use <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Subparsers.html#dest(java.lang.String)"><span class="pre">Subparsers.dest()</span></a></code> method. With this dest
value, the selected command name is stored as an attribute:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">Subparsers</span> <span class="n">subparsers</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="na">addSubparsers</span><span class="p">().</span><span class="na">dest</span><span class="p">(</span><span class="s">&quot;subparser_name&quot;</span><span class="p">);</span>
    <span class="n">Subparser</span> <span class="n">subparser1</span> <span class="o">=</span> <span class="n">subparsers</span><span class="p">.</span><span class="na">addParser</span><span class="p">(</span><span class="s">&quot;1&quot;</span><span class="p">);</span>
    <span class="n">subparser1</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;-x&quot;</span><span class="p">);</span>
    <span class="n">Subparser</span> <span class="n">subparser2</span> <span class="o">=</span> <span class="n">subparsers</span><span class="p">.</span><span class="na">addParser</span><span class="p">(</span><span class="s">&quot;2&quot;</span><span class="p">);</span>
    <span class="n">subparser2</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;y&quot;</span><span class="p">);</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">ArgumentParserException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">parser</span><span class="p">.</span><span class="na">handleError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo <span class="m">2</span> frobble
<span class="go">Namespace(subparser_name=2, y=frobble)</span>
</pre></div>
</div>
<p>Subparsers allows sub-command names to be abbreviated as long as the
abbreviation is unambiguous, just like long options:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">enum</span> <span class="n">Command</span> <span class="p">{</span>
    <span class="n">CLONE</span><span class="p">,</span> <span class="n">CLEAN</span>
<span class="p">};</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">ap</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">Subparsers</span> <span class="n">subparsers</span> <span class="o">=</span> <span class="n">ap</span><span class="p">.</span><span class="na">addSubparsers</span><span class="p">();</span>
    <span class="n">subparsers</span><span class="p">.</span><span class="na">addParser</span><span class="p">(</span><span class="s">&quot;clone&quot;</span><span class="p">).</span><span class="na">setDefault</span><span class="p">(</span><span class="s">&quot;command&quot;</span><span class="p">,</span> <span class="n">Command</span><span class="p">.</span><span class="na">CLONE</span><span class="p">);</span>
    <span class="n">subparsers</span><span class="p">.</span><span class="na">addParser</span><span class="p">(</span><span class="s">&quot;clean&quot;</span><span class="p">).</span><span class="na">setDefault</span><span class="p">(</span><span class="s">&quot;command&quot;</span><span class="p">,</span> <span class="n">Command</span><span class="p">.</span><span class="na">CLEAN</span><span class="p">);</span>
    <span class="n">Namespace</span> <span class="n">res</span> <span class="o">=</span> <span class="n">ap</span><span class="p">.</span><span class="na">parseArgsOrFail</span><span class="p">(</span><span class="n">args</span><span class="p">);</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">res</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo clo
<span class="go">Namespace(command=CLONE)</span>
<span class="gp">$ </span>java Demo cle
<span class="go">Namespace(command=CLEAN)</span>
<span class="gp">$ </span>java Demo cl
<span class="go">usage: prog [-h] {clone,clean} ...</span>
<span class="go">prog: error: ambiguous command: cl could match clean, clone</span>
</pre></div>
</div>
<p>An error is produced for arguments that could produce more than one
sub-commands.</p>
</div>
<div class="section" id="filetype">
<h3>fileType()<a class="headerlink" href="#filetype" title="Permalink to this headline">¶</a></h3>
<p>The <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/impl/Arguments.html#fileType()"><span class="pre">Arguments.fileType()</span></a></code> will convert an argument to <code class="xref docutils literal notranslate"><span class="pre">File</span></code>
object. It has several convenient verification features such as
checking readability or existence of a given path.  The command-line
programs traditionally accept <code class="docutils literal notranslate"><span class="pre">-</span></code> as standard input.  The
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/impl/Arguments.html#fileType()"><span class="pre">Arguments.fileType()</span></a></code> supports this tradition too. To enable this, just
use <code class="xref py py-func docutils literal notranslate"><span class="pre">acceptSystemIn()</span></code> method:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">()</span>
            <span class="p">.</span><span class="na">defaultHelp</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;-i&quot;</span><span class="p">,</span> <span class="s">&quot;--in&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="na">type</span><span class="p">(</span><span class="n">Arguments</span><span class="p">.</span><span class="na">fileType</span><span class="p">().</span><span class="na">acceptSystemIn</span><span class="p">().</span><span class="na">verifyCanRead</span><span class="p">())</span>
            <span class="p">.</span><span class="na">setDefault</span><span class="p">(</span><span class="s">&quot;-&quot;</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;-o&quot;</span><span class="p">,</span> <span class="s">&quot;--out&quot;</span><span class="p">).</span><span class="na">type</span><span class="p">(</span><span class="n">Arguments</span><span class="p">.</span><span class="na">fileType</span><span class="p">());</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">Namespace</span> <span class="n">ns</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">ArgumentParserException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">parser</span><span class="p">.</span><span class="na">handleError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo -h
<span class="go">usage: prog [-h] [-i IN] [-o OUT]</span>

<span class="go">named arguments:</span>
<span class="go">  -h, --help             show this help message and exit</span>
<span class="go">  -i IN, --in IN         (default: -)</span>
<span class="go">  -o OUT, --out OUT</span>
<span class="gp">$ </span>java Demo -i not-found
<span class="go">usage: prog [-h] [-i IN] [-o OUT]</span>
<span class="go">prog: error: argument -i/--in: Insufficient permissions to read file: &#39;not-found&#39;</span>
</pre></div>
</div>
<p>The verifications can be used in any combination, but not all
combinations make sense. The verifications can be split in 2
categories: presence &amp; type, and permissions &amp; properties. You should
always use exactly 1 verification from the presence &amp; type category,
and then you can use 0 or more permission &amp; property verifications:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 24%" />
<col style="width: 10%" />
<col style="width: 12%" />
<col style="width: 21%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Permission/property</p></th>
<th class="head"><p>Does not exist</p></th>
<th class="head"><p>Exists</p></th>
<th class="head"><p>Is file</p></th>
<th class="head"><p>Is directory</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Is absolute</p></td>
<td><p>●</p></td>
<td><p>●</p></td>
<td><p>●</p></td>
<td><p>●</p></td>
</tr>
<tr class="row-odd"><td><p>Read</p></td>
<td></td>
<td><p>●</p></td>
<td><p>●</p></td>
<td><p>●</p></td>
</tr>
<tr class="row-even"><td><p>Write</p></td>
<td></td>
<td><p>●</p></td>
<td><p>●</p></td>
<td><p>●</p></td>
</tr>
<tr class="row-odd"><td><p>Execute</p></td>
<td></td>
<td><p>●</p></td>
<td><p>●</p></td>
<td><p>●</p></td>
</tr>
<tr class="row-even"><td><p>Write parent</p></td>
<td><p>●</p></td>
<td><p>●</p></td>
<td><p>●</p></td>
<td><p>●</p></td>
</tr>
<tr class="row-odd"><td><p>Create</p></td>
<td><p>●</p></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>From version 0.8.0 it is also possible to specify verification groups,
of which 1 must verify successfully. This is useful where you can
create the needed file or directory yourself if it does not exist yet.
For example:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">file</span> <span class="n">argument</span> <span class="n">type</span><span class="o">&gt;</span>
        <span class="c1">// The output directory does not exist, but it is possible to create it.</span>
        <span class="p">.</span><span class="na">verifyNotExists</span><span class="p">().</span><span class="na">verifyCanCreate</span><span class="p">()</span>
        <span class="p">.</span><span class="na">or</span><span class="p">()</span>
        <span class="c1">// The output directory already exists, and it is possible to write to it.</span>
        <span class="p">.</span><span class="na">verifyIsDirectory</span><span class="p">().</span><span class="na">verifyCanWrite</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="argument-groups">
<h3>Argument groups<a class="headerlink" href="#argument-groups" title="Permalink to this headline">¶</a></h3>
<p>By default, <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html"><span class="pre">ArgumentParser</span></a></code> groups command line
arguments into “positional arguments” and “named arguments” when
displaying help messages. When there is a better conceptual grouping
of arguments than this default one, appropriate groups can be created
using the <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#addArgumentGroup(java.lang.String)"><span class="pre">ArgumentParser.addArgumentGroup()</span></a></code>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">ArgumentGroup</span> <span class="n">group</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="na">addArgumentGroup</span><span class="p">(</span><span class="s">&quot;group&quot;</span><span class="p">);</span>
    <span class="n">group</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--foo&quot;</span><span class="p">).</span><span class="na">help</span><span class="p">(</span><span class="s">&quot;foo help&quot;</span><span class="p">);</span>
    <span class="n">group</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;bar&quot;</span><span class="p">).</span><span class="na">help</span><span class="p">(</span><span class="s">&quot;bar help&quot;</span><span class="p">);</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">ArgumentParserException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">parser</span><span class="p">.</span><span class="na">handleError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo -h
<span class="go">usage: prog [-h] [--foo FOO] bar</span>

<span class="go">positional arguments:</span>

<span class="go">named arguments:</span>
<span class="go">  -h, --help             show this help message and exit</span>

<span class="go">group:</span>
<span class="go">  --foo FOO              foo help</span>
<span class="go">  bar                    bar help</span>
</pre></div>
</div>
<p><code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#addArgumentGroup(java.lang.String)"><span class="pre">ArgumentParser.addArgumentGroup()</span></a></code> returns <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentGroup.html"><span class="pre">ArgumentGroup</span></a></code>
object which has <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentGroup.html#addArgument(java.lang.String...)"><span class="pre">ArgumentGroup.addArgument()</span></a></code> just like a
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html"><span class="pre">ArgumentParser</span></a></code>. When an argument is added to the group,
the parser treats it just like a normal argument, but displays the
argument in a separate group for help messages. With the title string
specified in <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#addArgumentGroup(java.lang.String)"><span class="pre">ArgumentParser.addArgumentGroup()</span></a></code> and the description
specified in <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentGroup.html#description(java.lang.String)"><span class="pre">ArgumentGroup.description()</span></a></code>, you can customize the help
message:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="na">addHelp</span><span class="p">(</span><span class="kc">false</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">ArgumentGroup</span> <span class="n">group1</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="na">addArgumentGroup</span><span class="p">(</span><span class="s">&quot;group1&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="na">description</span><span class="p">(</span><span class="s">&quot;group1 description&quot;</span><span class="p">);</span>
    <span class="n">group1</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">).</span><span class="na">help</span><span class="p">(</span><span class="s">&quot;foo help&quot;</span><span class="p">);</span>
    <span class="n">ArgumentGroup</span> <span class="n">group2</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="na">addArgumentGroup</span><span class="p">(</span><span class="s">&quot;group2&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="na">description</span><span class="p">(</span><span class="s">&quot;group2 description&quot;</span><span class="p">);</span>
    <span class="n">group2</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--bar&quot;</span><span class="p">).</span><span class="na">help</span><span class="p">(</span><span class="s">&quot;bar help&quot;</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">printHelp</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo
<span class="go">usage: prog [--bar BAR] foo</span>

<span class="go">group1:</span>
<span class="go">  group1 description</span>

<span class="go">  foo                    foo help</span>

<span class="go">group2:</span>
<span class="go">  group2 description</span>

<span class="go">  --bar BAR              bar help</span>
</pre></div>
</div>
<p>Note that any arguments not in your user defined groups will end up
back in the usual “positional arguments” and “named arguments”
sections.</p>
</div>
<div class="section" id="mutual-exclusion">
<h3>Mutual exclusion<a class="headerlink" href="#mutual-exclusion" title="Permalink to this headline">¶</a></h3>
<p><code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#addMutuallyExclusiveGroup()"><span class="pre">ArgumentParser.addMutuallyExclusiveGroup()</span></a></code> creates a mutually
exclusive group. <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html"><span class="pre">ArgumentParser</span></a></code> will make sure that
only one of the arguments in the mutually exclusive group was present
on the command line:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">MutuallyExclusiveGroup</span> <span class="n">group</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="na">addMutuallyExclusiveGroup</span><span class="p">();</span>
    <span class="n">group</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--foo&quot;</span><span class="p">).</span><span class="na">action</span><span class="p">(</span><span class="n">Arguments</span><span class="p">.</span><span class="na">storeTrue</span><span class="p">());</span>
    <span class="n">group</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--bar&quot;</span><span class="p">).</span><span class="na">action</span><span class="p">(</span><span class="n">Arguments</span><span class="p">.</span><span class="na">storeFalse</span><span class="p">());</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">ArgumentParserException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">parser</span><span class="p">.</span><span class="na">handleError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo --foo
<span class="go">Namespace(foo=true, bar=true)</span>
<span class="gp">$ </span>java Demo --foo --bar
<span class="go">usage: prog [-h] [--foo | --bar]</span>
<span class="go">prog: error: argument --bar: not allowed with argument --foo</span>
</pre></div>
</div>
<p>Specifying <code class="docutils literal notranslate"><span class="pre">true</span></code> to <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/MutuallyExclusiveGroup.html#required(boolean)"><span class="pre">MutuallyExclusiveGroup.required()</span></a></code> indicates
that at least one of the mutually exclusive arguments is required:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">MutuallyExclusiveGroup</span> <span class="n">group</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="na">addMutuallyExclusiveGroup</span><span class="p">(</span><span class="s">&quot;group&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="na">required</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="n">group</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--foo&quot;</span><span class="p">).</span><span class="na">action</span><span class="p">(</span><span class="n">Arguments</span><span class="p">.</span><span class="na">storeTrue</span><span class="p">());</span>
    <span class="n">group</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--bar&quot;</span><span class="p">).</span><span class="na">action</span><span class="p">(</span><span class="n">Arguments</span><span class="p">.</span><span class="na">storeFalse</span><span class="p">());</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">ArgumentParserException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">parser</span><span class="p">.</span><span class="na">handleError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo
<span class="go">usage: prog [-h] (--foo | --bar)</span>
<span class="go">prog: error: one of the arguments --foo --bar is required</span>
</pre></div>
</div>
<p>The <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/MutuallyExclusiveGroup.html"><span class="pre">MutuallyExclusiveGroup</span></a></code> support the title and
description just like <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentGroup.html"><span class="pre">ArgumentGroup</span></a></code> object.  If both
title and description are not specified, the help message for this
group is merged into the other named arguments. With either or both
title and description, the help message is in separate group:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">MutuallyExclusiveGroup</span> <span class="n">group</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="na">addMutuallyExclusiveGroup</span><span class="p">(</span><span class="s">&quot;group&quot;</span><span class="p">);</span>
            <span class="p">.</span><span class="na">description</span><span class="p">(</span><span class="s">&quot;group description&quot;</span><span class="p">);</span>
    <span class="n">group</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--foo&quot;</span><span class="p">).</span><span class="na">action</span><span class="p">(</span><span class="n">Arguments</span><span class="p">.</span><span class="na">storeTrue</span><span class="p">());</span>
    <span class="n">group</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--bar&quot;</span><span class="p">).</span><span class="na">action</span><span class="p">(</span><span class="n">Arguments</span><span class="p">.</span><span class="na">storeFalse</span><span class="p">());</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">ArgumentParserException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">parser</span><span class="p">.</span><span class="na">handleError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo -h
<span class="go">usage: prog [-h] (--foo | --bar)</span>

<span class="go">named arguments:</span>
<span class="go">  -h, --help             show this help message and exit</span>

<span class="go">group:</span>
<span class="go">  group description</span>

<span class="go">  --foo</span>
<span class="go">  --bar</span>
</pre></div>
</div>
</div>
<div class="section" id="parser-defaults">
<h3>Parser defaults<a class="headerlink" href="#parser-defaults" title="Permalink to this headline">¶</a></h3>
<p>Most of the time, the attributes of the object returned by
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#parseArgs(java.lang.String[])"><span class="pre">ArgumentParser.parseArgs()</span></a></code> will be fully determined by inspecting the
command line arguments and the argument actions.
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#setDefault(java.lang.String,java.lang.Object)"><span class="pre">ArgumentParser.setDefault()</span></a></code> allows some additional attributes that are
determined without any inspection of the command line to be added:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">).</span><span class="na">type</span><span class="p">(</span><span class="n">Integer</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">setDefault</span><span class="p">(</span><span class="s">&quot;bar&quot;</span><span class="p">,</span> <span class="mi">42</span><span class="p">).</span><span class="na">setDefault</span><span class="p">(</span><span class="s">&quot;baz&quot;</span><span class="p">,</span> <span class="s">&quot;badger&quot;</span><span class="p">);</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">ArgumentParserException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">parser</span><span class="p">.</span><span class="na">handleError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo <span class="m">736</span>
<span class="go">Namespace(baz=badger, foo=736, bar=42)</span>
</pre></div>
</div>
<p>Note that parser-level defaults always override argument-level
defaults:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--foo&quot;</span><span class="p">).</span><span class="na">setDefault</span><span class="p">(</span><span class="s">&quot;bar&quot;</span><span class="p">);</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">setDefault</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">,</span> <span class="s">&quot;spam&quot;</span><span class="p">);</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">parseArgs</span><span class="p">(</span><span class="n">args</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">ArgumentParserException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">parser</span><span class="p">.</span><span class="na">handleError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo
<span class="go">Namespace(foo=spam)</span>
</pre></div>
</div>
<p>Parser-level defaults can be particularly useful when working with
multiple parsers. See <a class="reference internal" href="#sub-commands"><span class="std std-ref">Sub-commands</span></a> for an example of this type.
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#getDefault(java.lang.String)"><span class="pre">ArgumentParser.getDefault()</span></a></code> returns the default value for a attribute,
as set by either <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/Argument.html#setDefault(java.lang.Object)"><span class="pre">Argument.setDefault()</span></a></code> or by
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#setDefault(java.lang.String,java.lang.Object)"><span class="pre">ArgumentParser.setDefault()</span></a></code>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ArgumentParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">ArgumentParsers</span><span class="p">.</span><span class="na">newFor</span><span class="p">(</span><span class="s">&quot;prog&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
    <span class="n">parser</span><span class="p">.</span><span class="na">addArgument</span><span class="p">(</span><span class="s">&quot;--foo&quot;</span><span class="p">).</span><span class="na">setDefault</span><span class="p">(</span><span class="s">&quot;badger&quot;</span><span class="p">);</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="na">getDefault</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>java Demo
<span class="go">badger</span>
</pre></div>
</div>
</div>
<div class="section" id="printing-help">
<h3>Printing help<a class="headerlink" href="#printing-help" title="Permalink to this headline">¶</a></h3>
<p>In most typical applications, <code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#parseArgs(java.lang.String[])"><span class="pre">ArgumentParser.parseArgs()</span></a></code> and
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#handleError(net.sourceforge.argparse4j.inf.ArgumentParserException)"><span class="pre">ArgumentParser.handleError()</span></a></code> will take care of formatting and printing
any usage or error messages.  However, several formatting methods are
available:</p>
<ul class="simple">
<li><p><code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#printUsage()"><span class="pre">ArgumentParser.printUsage()</span></a></code> - Print a brief description of how the
program should be invoked on the command line.</p></li>
<li><p><code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html#printHelp()"><span class="pre">ArgumentParser.printHelp()</span></a></code> - Print a help message, including the
program usage and information about the arguments registered with
<code class="xref docutils literal notranslate"><a class="reference external" href="apidocs/net/sourceforge/argparse4j/inf/ArgumentParser.html"><span class="pre">ArgumentParser</span></a></code>.</p></li>
</ul>
</div>
</div>
<div class="section" id="extensions">
<h2>Extensions<a class="headerlink" href="#extensions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="java-7">
<span id="id24"></span><h3>Java 7<a class="headerlink" href="#java-7" title="Permalink to this headline">¶</a></h3>
<p>Since the switch to Java 8 in version 0.9.0, the extensions for Java
7 have been added to the main JAR. The package has not changed, so
when upgrading to 0.9.0 or higher, the only thing that needs to
be done is the removal from the Java 7 extensions JAR from your
dependencies.</p>
<p>The following argument types are available:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">java.nio.file.Path</span></code></dt><dd><p>Argument type:
<code class="docutils literal notranslate"><span class="pre">net.sourceforge.argparse4j.ext.java7.PathArgumentType</span></code>. The
no-arg constructor used the default file system. If you want to
resolve paths for another file system, use the constructor
accepting a file system. Note that using the non-default file
system disables all file verification checks.</p>
</dd>
</dl>
</div>
<div class="section" id="hadoop">
<span id="id25"></span><h3>Hadoop<a class="headerlink" href="#hadoop" title="Permalink to this headline">¶</a></h3>
<p>Argument types for classes and interfaces of Hadoop are available in
module <code class="docutils literal notranslate"><span class="pre">argparse4j-hadoop</span></code>. The following argument types are
available:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">org.apache.hadoop.fs.Path</span></code></dt><dd><p>Argument type:
<code class="docutils literal notranslate"><span class="pre">net.sourceforge.argparse4j.ext.hadoop.PathArgumentType</span></code>.</p>
</dd>
</dl>
</div>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Menu</h3>
<ul>
  <li><a href="https://github.com/argparse4j/argparse4j/releases">Download</a></li>
  <li><a href="http://sourceforge.net/projects/argparse4j/files/">Download (~0.5.0)</a></li>
  <li><a href="https://github.com/argparse4j/argparse4j">Source Code</a></li>
  <li><a href="https://github.com/argparse4j/argparse4j/issues">Issues</a></li>
  <li><a href="usage.html">Usage</a></li>
  <li><a href="examples.html">Examples</a></li>
  <li><a href="project-info.html">Project Information</a></li>
  <li><a href="apidocs/index.html">JavaDocs</a></li>
</ul>
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">The Argparse4j User Manual</a><ul>
<li><a class="reference internal" href="#examples">Examples</a><ul>
<li><a class="reference internal" href="#creating-a-parser">Creating a parser</a></li>
<li><a class="reference internal" href="#adding-arguments">Adding arguments</a></li>
<li><a class="reference internal" href="#passing-arguments">Passing arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#argumentparser-objects">ArgumentParser objects</a><ul>
<li><a class="reference internal" href="#prog">prog</a></li>
<li><a class="reference internal" href="#addhelp">addHelp</a></li>
<li><a class="reference internal" href="#prefixchars">prefixChars</a></li>
<li><a class="reference internal" href="#fromfileprefix">fromFilePrefix</a></li>
<li><a class="reference internal" href="#locale">locale</a></li>
<li><a class="reference internal" href="#cjkwidthhack">cjkWidthHack</a></li>
<li><a class="reference internal" href="#defaultformatwidth">defaultFormatWidth</a></li>
<li><a class="reference internal" href="#terminalwidthdetection">terminalWidthDetection</a></li>
<li><a class="reference internal" href="#singlemetavar">singleMetavar</a></li>
<li><a class="reference internal" href="#includeargumentnamesaskeysinresult">includeArgumentNamesAsKeysInResult</a></li>
<li><a class="reference internal" href="#musthelptextincludemutualexclusivity">mustHelpTextIncludeMutualExclusivity</a></li>
<li><a class="reference internal" href="#nodestconversionforpositionalargs">noDestConversionForPositionalArgs</a></li>
<li><a class="reference internal" href="#argumentparser-description">ArgumentParser.description()</a></li>
<li><a class="reference internal" href="#argumentparser-epilog">ArgumentParser.epilog()</a></li>
<li><a class="reference internal" href="#argumentparser-defaulthelp">ArgumentParser.defaultHelp()</a></li>
<li><a class="reference internal" href="#argumentparser-usage">ArgumentParser.usage()</a></li>
<li><a class="reference internal" href="#argumentparser-version">ArgumentParser.version()</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-argumentparser-addargument-method">The ArgumentParser.addArgument() method</a><ul>
<li><a class="reference internal" href="#nameorflags">nameOrFlags</a></li>
<li><a class="reference internal" href="#argument-action">Argument.action()</a><ul>
<li><a class="reference internal" href="#arguments-store">Arguments.store()</a></li>
<li><a class="reference internal" href="#arguments-storeconst">Arguments.storeConst()</a></li>
<li><a class="reference internal" href="#arguments-storetrue-and-arguments-storefalse">Arguments.storeTrue() and Arguments.storeFalse()</a></li>
<li><a class="reference internal" href="#arguments-append">Arguments.append()</a></li>
<li><a class="reference internal" href="#arguments-appendconst">Arguments.appendConst()</a></li>
<li><a class="reference internal" href="#arguments-count">Arguments.count()</a></li>
<li><a class="reference internal" href="#arguments-version">Arguments.version()</a></li>
<li><a class="reference internal" href="#arguments-help">Arguments.help()</a></li>
<li><a class="reference internal" href="#custom-actions">Custom actions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#argument-nargs">Argument.nargs()</a></li>
<li><a class="reference internal" href="#argument-setconst">Argument.setConst()</a></li>
<li><a class="reference internal" href="#argument-setdefault">Argument.setDefault()</a></li>
<li><a class="reference internal" href="#argument-type">Argument.type()</a></li>
<li><a class="reference internal" href="#argument-choices">Argument.choices()</a></li>
<li><a class="reference internal" href="#argument-required">Argument.required()</a></li>
<li><a class="reference internal" href="#argument-help">Argument.help()</a></li>
<li><a class="reference internal" href="#argument-metavar">Argument.metavar()</a></li>
<li><a class="reference internal" href="#argument-dest">Argument.dest()</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-argumentparser-parseargs-method">The ArgumentParser.parseArgs() method</a><ul>
<li><a class="reference internal" href="#option-value-syntax">Option value syntax</a></li>
<li><a class="reference internal" href="#invalid-arguments">Invalid arguments</a></li>
<li><a class="reference internal" href="#arguments-containing">Arguments containing “-“</a></li>
<li><a class="reference internal" href="#argument-abbreviations">Argument abbreviations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-namespace-object">The Namespace object</a></li>
<li><a class="reference internal" href="#other-utilities">Other utilities</a><ul>
<li><a class="reference internal" href="#sub-commands">Sub-commands</a></li>
<li><a class="reference internal" href="#filetype">fileType()</a></li>
<li><a class="reference internal" href="#argument-groups">Argument groups</a></li>
<li><a class="reference internal" href="#mutual-exclusion">Mutual exclusion</a></li>
<li><a class="reference internal" href="#parser-defaults">Parser defaults</a></li>
<li><a class="reference internal" href="#printing-help">Printing help</a></li>
</ul>
</li>
<li><a class="reference internal" href="#extensions">Extensions</a><ul>
<li><a class="reference internal" href="#java-7">Java 7</a></li>
<li><a class="reference internal" href="#hadoop">Hadoop</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Argparse4j - The Java command-line argument parser library</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="examples.html"
                        title="next chapter">Examples</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/usage.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="examples.html" title="Examples"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Argparse4j - The Java command-line argument parser library"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">argparse4j 0.9.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">The Argparse4j User Manual</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2011, 2015, Tatsuhiro Tsujikawa.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.5.1.
    </div>
  </body>
</html>